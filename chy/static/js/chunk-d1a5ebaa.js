(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d1a5ebaa"],{"6a34":function(t,e,n){"use strict";var a=n("db64"),i=n.n(a);i.a},7998:function(t,e,n){"use strict";n.d(e,"q",(function(){return i})),n.d(e,"p",(function(){return r})),n.d(e,"o",(function(){return o})),n.d(e,"k",(function(){return l})),n.d(e,"j",(function(){return c})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return u})),n.d(e,"f",(function(){return d})),n.d(e,"e",(function(){return m})),n.d(e,"i",(function(){return p})),n.d(e,"g",(function(){return f})),n.d(e,"n",(function(){return C})),n.d(e,"m",(function(){return h})),n.d(e,"d",(function(){return D})),n.d(e,"b",(function(){return v})),n.d(e,"l",(function(){return j})),n.d(e,"h",(function(){return g}));var a=n("b775");function i(t){return Object(a["a"])({url:"api/CilentDemandHall/PublisherInfo",method:"post",data:t})}function r(t){return Object(a["a"])({url:"api/CilentDemandHall/PublisherCheckIn",method:"post",data:t})}function o(t){return Object(a["a"])({url:"api/CilentDemandHall/GetProjectTypeList",method:"post",data:t})}function l(t){return Object(a["a"])({url:"api/CilentDemandHall/GetCommunityDemandList",method:"post",data:t})}function c(t){return Object(a["a"])({url:"api/CilentDemandHall/GetCommunityDemandInfo/"+t,method:"post",data:null})}function s(t){return Object(a["a"])({url:"api/CilentDemandHall/AddDemandBidding?demandId="+t,method:"post",data:null})}function u(t){return Object(a["a"])({url:"api/CilentDemandHall/AddCommunityDemand",method:"post",data:t})}function d(t){return Object(a["a"])({url:"api/CilentServiceHall/ContractorInfo",method:"post",data:t})}function m(t){return Object(a["a"])({url:"api/CilentServiceHall/ContractorCheckIn",method:"post",data:t})}function p(t){return Object(a["a"])({url:"api/CilentServiceHall/GetCommunityContractorIntroduction?Id="+t,method:"post",data:null})}function f(t){return Object(a["a"])({url:"api/CilentServiceHall/GetProjectTypeList",method:"post",data:t})}function C(t){return Object(a["a"])({url:"api/CilentServiceHall/GetCommunityServiceList",method:"post",data:t})}function h(t){return Object(a["a"])({url:"api/CilentServiceHall/GetCommunityServiceInfo/"+t,method:"post",data:null})}function D(t){return Object(a["a"])({url:"api/CilentServiceHall/BuyCommunityService?id="+t,method:"post",data:null})}function v(t){return Object(a["a"])({url:"api/CilentServiceHall/AddCommunityService",method:"post",data:t})}function j(){return Object(a["a"])({url:"api/CilentDemandHall/GetCommunityPublisherInfo",method:"post",data:null})}function g(){return Object(a["a"])({url:"api/CilentServiceHall/GetCommunityContractorInfo",method:"post",data:null})}},"81c0":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"needInfo common"},[n("div",{staticClass:"back",on:{click:t.goBack}},[n("i",{staticClass:"el-icon-arrow-left"}),n("span",[t._v(t._s(t.$t("lang.back")))])]),n("div",{staticClass:"needInfoMain"},[n("div",{staticClass:"item"},[t.projectDetail.CoverPicture?n("div",{staticClass:"itemImgPC",style:{background:"url("+t.projectDetail.CoverPicture[0].ShowLink+")"}}):t._e(),t.projectDetail.CoverPicture?n("div",{staticClass:"itemImgPhone"},[n("img",{attrs:{src:t.projectDetail.CoverPicture&&t.projectDetail.CoverPicture.length>0?t.projectDetail.CoverPicture[0].ShowLink:""}})]):t._e(),n("div",{staticStyle:{"flex-grow":"2"}},[n("div",{staticClass:"name"},[t._v(t._s(t.projectDetail.ProjectName))]),n("div",{staticClass:"key"},[t._v(t._s(t.projectDetail.ProjectTypeName))]),n("div",{staticClass:"desc"},[t._v(t._s(t.projectDetail.ProjectDes))]),n("div",{staticClass:"flex"},[n("div",[n("div",{staticClass:"price"},[t._v(t._s("ï¿¥"+t.projectDetail.Budget))]),n("div",{staticClass:"time"},[t._v(t._s(t.$t("lang.community_need_enrollendtime")+t.projectDetail.Deadline.substring(0,10)))])]),n("div",{staticClass:"itemButton",on:{click:t.bunyNow}},[n("span",[t._v(t._s(t.$t("lang.community_need_enroll")))]),n("i",{staticClass:"el-icon-right"})])])])]),n("div",{staticClass:"process"},[n("div",{staticClass:"date"},[t._v(" "+t._s(t.projectDetail.CreateTimeMonthDay)+" "),n("br"),t._v(" "+t._s(t.projectDetail.CreateTimeYear)+" ")]),n("div",{ref:"processLine",staticClass:"processLine"},[n("div",{ref:"toady",staticClass:"toady",style:{left:t.leftValue+"px"}},[t._v(t._s(t.$t("lang.today")))]),n("div",{staticClass:"name"},[t._v(t._s(t.$t("lang.community_need_stage")))])]),n("div",{staticClass:"date"},[t._v(" "+t._s(t.projectDetail.DeadlineMonthDay)+" "),n("br"),t._v(" "+t._s(t.projectDetail.DeadlineYear)+" ")])])])])},i=[],r=(n("c975"),n("ac1f"),n("1276"),n("7998")),o={name:"need",props:{},components:{},data:function(){return{projectDetail:{Deadline:""},leftValue:0}},created:function(){},watch:{},activated:function(){this.projectDetail.CoverPicture=null,this.getProjectDetail()},mounted:function(){window.addEventListener("resize",this.setLeft,!0)},destroyed:function(){window.removeEventListener("resize",this.setLeft,!0)},methods:{goBack:function(){this.$router.go(-1)},bunyNow:function(){var t=this;localStorage.getItem("UserId")?Object(r["h"])().then((function(e){if(0===e.data.Code){var n=null==e.data.Data?"":e.data.Data.ApproveStatus;null==e.data.Data||""==n||null==n?t.jumpContractor():5==n?(t.$message.closeAll(),t.$message.success(t.$t("lang.community_role_states_auditing"))):6==n?t.requestAddDemandBidding():7==n?t.jumpContractor():9==n?(t.$message.closeAll(),t.$message.success(t.$t("lang.community_role_states_forbid"))):(t.$message.closeAll(),t.$message.success(t.$t("lang.community_role_states_error")))}})):this.$pubFun.isLogin()},jumpContractor:function(){var t=this,e=this.$t("lang.community_need_enroll_roleerror");this.$alert(e,this.$t("lang.tip"),{confirmButtonText:this.$t("lang.sure"),callback:function(e){"confirm"==e&&t.$router.push({path:"/register/contractor"})}})},requestAddDemandBidding:function(){var t=this,e=this.$t("lang.community_need_enroll_tip");this.$confirm(e,this.$t("lang.tip"),{confirmButtonText:this.$t("lang.sure"),cancelButtonText:this.$t("lang.cancel")}).then((function(){Object(r["c"])(t.$route.query.id).then((function(e){if(0==e.data.Code){var n=t.$t("lang.community_need_enroll_success");t.$alert(n,t.$t("lang.tip"),{confirmButtonText:t.$t("lang.sure"),callback:function(t){}})}}))})).catch((function(){}))},nowDate:function(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,a=t.getDate()>9?t.getDate():"0"+t.getDate();return e+"-"+n+"-"+a},getProjectDetail:function(){var t=this;Object(r["j"])(this.$route.query.id).then((function(e){if(0==e.data.Code){t.projectDetail=e.data.Data,t.$nextTick((function(){t.setLeft()}));var n=t.projectDetail.CreateTime.split("-");-1!=t.projectDetail.CreateTime.indexOf(" ")&&(n=t.projectDetail.CreateTime.split(" ")[0].split("-")),t.projectDetail.CreateTimeYear=n[0],t.projectDetail.CreateTimeMonthDay=n[1]+"."+n[2];var a=t.projectDetail.Deadline.split("-");-1!=t.projectDetail.Deadline.indexOf(" ")&&(a=t.projectDetail.Deadline.split(" ")[0].split("-")),t.projectDetail.DeadlineYear=a[0],t.projectDetail.DeadlineMonthDay=a[1]+"."+a[2]}}))},setLeft:function(){var t=(new Date(this.projectDetail.Deadline.split(" ")[0])-new Date(this.projectDetail.CreateTime.split(" ")[0]))/864e5,e=this.$refs.processLine.clientWidth,n=Math.floor(e/t),a=(new Date(this.nowDate())-new Date(this.projectDetail.CreateTime.split(" ")[0]))/864e5;this.leftValue=a*n}}},l=o,c=(n("6a34"),n("2877")),s=Object(c["a"])(l,a,i,!1,null,null,null);e["default"]=s.exports},db64:function(t,e,n){}}]);