(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ccfaf804"],{"302a":function(e,t,i){"use strict";var r=i("4776"),n=i.n(r);n.a},4776:function(e,t,i){},"4d63":function(e,t,i){var r=i("83ab"),n=i("da84"),a=i("94ca"),s=i("7156"),l=i("9bf2").f,o=i("241c").f,c=i("44e7"),u=i("ad6d"),m=i("9f7f"),d=i("6eeb"),f=i("d039"),g=i("69f3").set,h=i("2626"),p=i("b622"),v=p("match"),C=n.RegExp,y=C.prototype,L=/a/g,b=/a/g,_=new C(L)!==L,S=m.UNSUPPORTED_Y,$=r&&a("RegExp",!_||S||f((function(){return b[v]=!1,C(L)!=L||C(b)==b||"/a/i"!=C(L,"i")})));if($){var w=function(e,t){var i,r=this instanceof w,n=c(e),a=void 0===t;if(!r&&n&&e.constructor===w&&a)return e;_?n&&!a&&(e=e.source):e instanceof w&&(a&&(t=u.call(e)),e=e.source),S&&(i=!!t&&t.indexOf("y")>-1,i&&(t=t.replace(/y/g,"")));var l=s(_?new C(e,t):C(e,t),r?this:y,w);return S&&i&&g(l,{sticky:i}),l},D=function(e){e in w||l(w,e,{configurable:!0,get:function(){return C[e]},set:function(t){C[e]=t}})},I=o(C),F=0;while(I.length>F)D(I[F++]);y.constructor=w,w.prototype=y,d(n,"RegExp",w)}h("RegExp")},"68f8":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"FileUpload"},[e._l(e.fileList,(function(t,r){return i("div",{directives:[{name:"show",rawName:"v-show",value:e.isSingleImgShow,expression:"isSingleImgShow"}],key:r,staticClass:"fileDiv"},[i("img",{attrs:{src:t.ShowLink?t.ShowLink:"",alt:""}}),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isDisabled,expression:"!isDisabled"}],staticClass:"fileDivBg"},[i("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.deleteFile(r)}}})])])})),i("el-upload",{directives:[{name:"show",rawName:"v-show",value:!e.isSingleImgShow,expression:"!isSingleImgShow"}],ref:"upload",staticClass:"avatar-uploader",attrs:{disabled:e.isDisabled,drag:"",action:e.baseURL,headers:e.myHeaders,accept:e.typeList,multiple:!1,limit:e.limit,"on-success":e.handleAvatarSuccess,"on-error":e.handlError,"on-exceed":e.handleExceed,"before-upload":e.beforeUpload,"file-list":e.getFileList,"show-file-list":!0,"on-remove":e.handleRemove,"on-preview":e.handlePreview}},[i("i",{staticClass:"el-icon-upload"}),i("div",{staticClass:"el-upload__text"},[e._v(" "+e._s(e.$t("lang.fileupload_title1"))+" "),i("em",[e._v(e._s(e.$t("lang.fileupload_title2")))]),"image"===e.type?i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.warStr))]):e._e()])])],2)},n=[],a=(i("99af"),i("4160"),i("fb6a"),i("a434"),i("a9e3"),i("159b"),{name:"",props:{limit:{type:Number,default:1},type:{type:String,default:"image"},uploadURL:{type:String,default:""},initFileList:{type:Array},warStr:{type:String,default:"只能上传不超过10MB大小的图片或文件"},signalSize:{type:Number,default:3},totalSize:{type:Number,default:9},isDisabled:{type:Boolean,default:!1}},data:function(){return{isInit:!0,fileList:[],myHeaders:{"s-token":localStorage.getItem("Token"),"s-lang":localStorage.getItem("Lang")},imgFileType:".jpg,.png,.jpeg,.doc,.docx,.xls,.xlsx,.pdf,.ppt,.pptx",imageType:".jpg, .jpeg, .png",videoType:".mp4",audioType:".mp4",fileType:".doc,.docx,.xls,.xlsx,.pdf,.ppt,.pptx",fileSizeCount:0}},computed:{baseURL:function(){return global_config.BASE_URL+this.uploadURL},typeList:function(){return"image"===this.type?this.imageType:"video"===this.type?this.videoType:"audio"===this.type?this.audioType:"file"===this.type?this.fileType:"imgfile"===this.type?this.imgFileType:void 0},isSingleImgShow:function(){return"image"===this.type&&1==this.limit&&1==this.getFileList.length},getFileList:function(){var e=this;return 0==this.fileList.length&&void 0!=this.initFileList&&null!=this.initFileList&&this.initFileList.length>0&&this.isInit&&(this.isInit=!1,this.fileList=this.initFileList.slice(),this.fileList.forEach((function(t){e.$set(t,"name",null==t.FileName||""==t.FileName?"fileName":t.FileName),e.$set(t,"url",t.ShowLink)}))),this.fileList}},created:function(){},watch:{},methods:{handleAvatarSuccess:function(e,t){0===e.Code?(this.$set(e.Data,"name",e.Data.FileName),this.$set(e.Data,"url",e.Data.ShowLink),this.fileList=this.fileList.concat(e.Data),this.notifyFileListSizeChange(),this.$emit("clearValidate")):20002===e.Code||20001===e.Code?(this.$message.closeAll(),this.loginInfoExpired()):(this.$message.closeAll(),this.$message.error(e.Message))},handlError:function(e,t,i){this.$message.closeAll(),this.$message.error(this.$t("lang.war_file_uploadfailed"))},handleExceed:function(e,t){this.$message.warning(this.$t("lang.war_file_exceed_pre")+this.limit+this.$t("lang.war_file_exceed_sub"))},beforeUpload:function(e){var t=e.size/1024/1024;if(this.fileSizeCount<1024){var i=t<this.signalSize;return i||(this.$message.closeAll(),this.$message.error(this.$t("lang.war_file_signalsize")+this.signalSize+"MB!")),this.fileSizeCount+=t,i}return this.$message.closeAll(),this.$message.error(this.$t("lang.war_file_totalsize")+this.totalSize+"MB!"),!1},deleteFile:function(e){this.fileList.splice(e,1),this.$emit("validateBanner"),this.notifyFileListSizeChange()},handleRemove:function(e,t){this.fileList=t,this.notifyFileListSizeChange()},handlePreview:function(e){window.open(e.ShowLink,"_blank")},notifyFileListSizeChange:function(){0!=this.fileList.length&&1!=this.fileList.length||this.$emit("filesChange",this.fileList)},loginInfoExpired:function(){var e=this,t=localStorage.getItem("Lang"),i="CN"==t?"登录已过期，请重新登录":"Login has expired, please log in again",r="CN"==t?"提示":"tip",n="CN"==t?"确定":"Sure";this.$alert(i,r,{confirmButtonText:n,callback:function(t){e.$store.commit("getUserName",""),e.$store.commit("getCorporateName",""),e.$store.commit("getHeadPortraitUrl",""),e.$store.commit("setMemberIdentity",""),localStorage.removeItem("userInfo"),localStorage.removeItem("CorporateName"),localStorage.removeItem("Category"),localStorage.removeItem("UserId"),localStorage.removeItem("Token"),localStorage.removeItem("HeadPortraitUrl"),localStorage.removeItem("UserName"),localStorage.removeItem("changeLang"),localStorage.removeItem("competitionDetail"),sessionStorage.clear(),e.$router.push("/register/loginpage")}})}}}),s=a,l=(i("f6fb"),i("2877")),o=Object(l["a"])(s,r,n,!1,null,null,null);t["a"]=o.exports},7998:function(e,t,i){"use strict";i.d(t,"q",(function(){return n})),i.d(t,"p",(function(){return a})),i.d(t,"o",(function(){return s})),i.d(t,"k",(function(){return l})),i.d(t,"j",(function(){return o})),i.d(t,"c",(function(){return c})),i.d(t,"a",(function(){return u})),i.d(t,"f",(function(){return m})),i.d(t,"e",(function(){return d})),i.d(t,"i",(function(){return f})),i.d(t,"g",(function(){return g})),i.d(t,"n",(function(){return h})),i.d(t,"m",(function(){return p})),i.d(t,"d",(function(){return v})),i.d(t,"b",(function(){return C})),i.d(t,"l",(function(){return y})),i.d(t,"h",(function(){return L}));var r=i("b775");function n(e){return Object(r["a"])({url:"api/CilentDemandHall/PublisherInfo",method:"post",data:e})}function a(e){return Object(r["a"])({url:"api/CilentDemandHall/PublisherCheckIn",method:"post",data:e})}function s(e){return Object(r["a"])({url:"api/CilentDemandHall/GetProjectTypeList",method:"post",data:e})}function l(e){return Object(r["a"])({url:"api/CilentDemandHall/GetCommunityDemandList",method:"post",data:e})}function o(e){return Object(r["a"])({url:"api/CilentDemandHall/GetCommunityDemandInfo/"+e,method:"post",data:null})}function c(e){return Object(r["a"])({url:"api/CilentDemandHall/AddDemandBidding?demandId="+e,method:"post",data:null})}function u(e){return Object(r["a"])({url:"api/CilentDemandHall/AddCommunityDemand",method:"post",data:e})}function m(e){return Object(r["a"])({url:"api/CilentServiceHall/ContractorInfo",method:"post",data:e})}function d(e){return Object(r["a"])({url:"api/CilentServiceHall/ContractorCheckIn",method:"post",data:e})}function f(e){return Object(r["a"])({url:"api/CilentServiceHall/GetCommunityContractorIntroduction?Id="+e,method:"post",data:null})}function g(e){return Object(r["a"])({url:"api/CilentServiceHall/GetProjectTypeList",method:"post",data:e})}function h(e){return Object(r["a"])({url:"api/CilentServiceHall/GetCommunityServiceList",method:"post",data:e})}function p(e){return Object(r["a"])({url:"api/CilentServiceHall/GetCommunityServiceInfo/"+e,method:"post",data:null})}function v(e){return Object(r["a"])({url:"api/CilentServiceHall/BuyCommunityService?id="+e,method:"post",data:null})}function C(e){return Object(r["a"])({url:"api/CilentServiceHall/AddCommunityService",method:"post",data:e})}function y(){return Object(r["a"])({url:"api/CilentDemandHall/GetCommunityPublisherInfo",method:"post",data:null})}function L(){return Object(r["a"])({url:"api/CilentServiceHall/GetCommunityContractorInfo",method:"post",data:null})}},"7b0a":function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"d",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"b",(function(){return s}));i("c975"),i("a9e3"),i("d3b7"),i("4d63"),i("ac1f"),i("25f0");function r(e,t,i){if(!t)return i(new Error("输入不可以为空"));setTimeout((function(){if(Number(t)){var e=/^[0-9]*[1-9][0-9]*$/,r=e.test(t);r?i():i(new Error("请输入正整数"))}else i(new Error("请输入正整数"))}),0)}function n(e,t,i){var r=/^[1][3-9][0-9]{9}$/;""==t||void 0==t||null==t?i(new Error("请输入正确的电话号码")):r.test(t)||""==t?i():i(new Error("请输入正确的电话号码"))}function a(e,t,i){""==t||void 0==t||null==t||t.indexOf("@")<0?i(new Error("请输入正确的邮箱")):i()}function s(e,t,i){var r=new RegExp("(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[^a-zA-Z0-9]).{6,30}");""==t||void 0==t||null==t?i(new Error("请输入密码")):t.toString().length<6?i(new Error("密码长度至少6位")):r.test(t)?i():i(new Error("仅由英文字母，数字组成"))}},"87cd":function(e,t,i){},"99af":function(e,t,i){"use strict";var r=i("23e7"),n=i("d039"),a=i("e8b5"),s=i("861d"),l=i("7b0b"),o=i("50c4"),c=i("8418"),u=i("65f0"),m=i("1dde"),d=i("b622"),f=i("2d00"),g=d("isConcatSpreadable"),h=9007199254740991,p="Maximum allowed index exceeded",v=f>=51||!n((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),C=m("concat"),y=function(e){if(!s(e))return!1;var t=e[g];return void 0!==t?!!t:a(e)},L=!v||!C;r({target:"Array",proto:!0,forced:L},{concat:function(e){var t,i,r,n,a,s=l(this),m=u(s,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(a=-1===t?s:arguments[t],y(a)){if(n=o(a.length),d+n>h)throw TypeError(p);for(i=0;i<n;i++,d++)i in a&&c(m,d,a[i])}else{if(d>=h)throw TypeError(p);c(m,d++,a)}return m.length=d,m}})},f6c1:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"serviceDetail"},[i("div",{staticClass:"commonMargin"},[i("div",{staticClass:"back",on:{click:e.goBack}},[i("i",{staticClass:"el-icon-arrow-left"}),i("span",[e._v(e._s(e.$t("lang.back")))])]),i("div",{staticClass:"mainContent"},[i("div",{staticClass:"title"},[e._v(e._s(e.$t("lang.personalcenter_service")))]),i("el-form",{ref:"formRef",attrs:{model:e.form,rules:e.rules,"label-width":"200px"}},[i("div",[i("el-form-item",{attrs:{label:e.$t("lang.community_service_send_servicename"),prop:"ServiceName"}},[i("el-input",{attrs:{placeholder:e.$t("lang.inputholder")},model:{value:e.form.ServiceName,callback:function(t){e.$set(e.form,"ServiceName",t)},expression:"form.ServiceName"}})],1),i("el-form-item",{attrs:{label:e.$t("lang.community_service_send_type"),prop:"ServiceType"}},[i("el-select",{attrs:{placeholder:e.$t("lang.pleasechose")},model:{value:e.form.ServiceType,callback:function(t){e.$set(e.form,"ServiceType",t)},expression:"form.ServiceType"}},e._l(e.options,(function(e){return i("el-option",{key:e.Id,attrs:{label:e.Name,value:e.Id}})})),1)],1),i("el-form-item",{staticClass:"longHeight",attrs:{label:e.$t("lang.community_service_send_content"),prop:"ServiceDes"}},[i("el-input",{attrs:{type:"textarea",rows:20,placeholder:e.$t("lang.inputholder")},model:{value:e.form.ServiceDes,callback:function(t){e.$set(e.form,"ServiceDes",t)},expression:"form.ServiceDes"}})],1),i("el-form-item",{attrs:{label:e.$t("lang.community_service_send_money"),prop:"Price"}},[i("el-input",{attrs:{type:"number",placeholder:e.$t("lang.inputholder")},model:{value:e.form.Price,callback:function(t){e.$set(e.form,"Price",t)},expression:"form.Price"}})],1)],1),i("div",[i("el-form-item",{staticClass:"bigHeight",attrs:{prop:"CoverPictureRules"}},[i("div",{attrs:{solt:"label"}},[i("span",{staticStyle:{color:"#F56C6C"}},[e._v("*")]),e._v(" "+e._s(e.$t("lang.community_service_send_coverpic"))+" ")]),i("File-upload",{ref:"coverref",attrs:{limit:1,type:"image",uploadURL:e.uploadLogoURL,"init-file-list":e.form.CoverPicture,"war-str":e.$t("lang.war_img")+"500*500","signal-size":3,"total-size":3},on:{filesChange:e.filesChangeCoverPicture}})],1),i("el-form-item",{staticClass:"bigHeight",attrs:{prop:"DemandImageListRules"}},[i("div",{attrs:{solt:"label"}},[i("span",{staticStyle:{color:"#F56C6C"}},[e._v("*")]),e._v(" "+e._s(e.$t("lang.community_service_send_servicepic"))+" ")]),i("File-upload",{ref:"needref",attrs:{limit:3,type:"image",uploadURL:e.uploadLogoURL,"init-file-list":e.form.DemandImageList,"war-str":e.$t("lang.war_img")+"500*500","signal-size":3,"total-size":9},on:{filesChange:e.filesChangeDemandImage}})],1),i("el-form-item",{staticClass:"bigHeight",attrs:{prop:"DemandFilesListRules"}},[i("div",{attrs:{solt:"label"}},[i("span",{staticStyle:{color:"#F56C6C"}},[e._v("*")]),e._v(" "+e._s(e.$t("lang.community_service_send_fileupload"))+" ")]),i("File-upload",{ref:"fileref",attrs:{limit:3,type:"file",uploadURL:e.uploadFileURL,"init-file-list":e.form.DemandFilesList,"war-str":e.$t("lang.war_file"),"signal-size":3,"total-size":9},on:{filesChange:e.filesChangeDemandFiles}})],1)],1)]),i("div",{staticClass:"bottom"},[i("div",{staticClass:"itemButton",on:{click:e.submiteForm}},[i("span",[e._v(e._s(e.$t("lang.done")))])])])],1)])])},n=[],a=i("7b0a"),s=i("7998"),l=i("68f8"),o={name:"incubationApplicationApply",props:{},components:{FileUpload:l["a"]},data:function(){return{form:{ServiceName:"",ServiceType:"",ServiceDes:"",Price:"0",CoverPicture:[],DemandFilesList:[],DemandImageList:[],CoverPictureRules:"",DemandFilesListRules:"",DemandImageListRules:""},options:[],rules:{ServiceName:[{required:!0,message:this.$t("lang.community_service_send_servicename_msg"),trigger:"blur"}],ServiceType:[{required:!0,message:this.$t("lang.community_service_send_type_msg"),trigger:"blur"}],ServiceDes:[{required:!0,message:this.$t("lang.community_service_send_content_msg"),trigger:"blur"}],Price:[{required:!0,message:this.$t("lang.community_service_send_money_msg"),validate:a["a"],trigger:"blur"}]},uploadLogoURL:"/api/CilentServiceHall/UploadEnterpriseLogo",uploadFileURL:"/api/CilentServiceHall/UploadContractorFile"}},created:function(){this.getProjectTypeList(),this.getDetail()},watch:{},methods:{goBack:function(){this.$router.go(-1)},getProjectTypeList:function(){var e=this;Object(s["g"])().then((function(t){0==t.data.Code&&(e.options=t.data.Data)}))},getDetail:function(){var e=this;Object(s["m"])(this.$route.query.id).then((function(t){0==t.data.Code&&(e.form=t.data.Data,e.form.Price=String(t.data.Data.Price),e.form.CoverPictureRules=e.getCoverPictureRules(),e.form.DemandImageListRules=e.getDemandImageListRules(),e.form.DemandFilesListRules=e.getDemandFilesListRules())}))},getCoverPictureRules:function(){return void 0!=this.form.CoverPicture&&null!=this.form.CoverPicture&&this.form.CoverPicture.length>0?"Rules":""},getDemandImageListRules:function(){return void 0!=this.form.DemandImageList&&null!=this.form.DemandImageList&&this.form.DemandImageList.length>0?"Rules":""},getDemandFilesListRules:function(){return void 0!=this.form.DemandFilesList&&null!=this.form.DemandFilesList&&this.form.DemandFilesList.length>0?"Rules":""},filesChangeCoverPicture:function(e){this.form.CoverPicture=this.$refs.coverref.fileList,this.form.CoverPictureRules=this.getCoverPictureRules()},filesChangeDemandImage:function(e){this.form.DemandImageList=this.$refs.needref.fileList,this.form.DemandImageListRules=this.getDemandImageListRules()},filesChangeDemandFiles:function(e){this.form.DemandFilesList=this.$refs.fileref.fileList,this.form.DemandFilesListRules=this.getDemandFilesListRules()},submiteForm:function(){var e=this;return void 0!=this.$refs.coverref.fileList&&this.$refs.coverref.fileList.length>0?void 0!=this.$refs.needref.fileList&&this.$refs.needref.fileList.length>0?(this.form.DemandImageList=this.$refs.needref.fileList,void 0!=this.$refs.fileref.fileList&&this.$refs.fileref.fileList.length>0?(this.form.DemandFilesList=this.$refs.fileref.fileList,void this.$refs.formRef.validate((function(t){t&&(e.form.CoverPicture=e.$refs.coverref.fileList[0].FileId,e.form.Id=e.$route.query.id,Object(s["b"])(e.form).then((function(t){0==t.data.Code&&(e.$message.closeAll(),e.$message.success(e.$t("lang.done")),e.$router.go(-1))})))}))):(this.$message.closeAll(),void this.$message.error(this.$t("lang.pleasechose")+" "+this.$t("lang.war_uploadfile")))):(this.$message.closeAll(),void this.$message.error(this.$t("lang.pleasechose")+" "+this.$t("lang.war_demandmap"))):(this.$message.closeAll(),void this.$message.error(this.$t("lang.pleasechose")+" "+this.$t("lang.war_coverimg")))}}},c=o,u=(i("302a"),i("2877")),m=Object(u["a"])(c,r,n,!1,null,"d086104c",null);t["default"]=m.exports},f6fb:function(e,t,i){"use strict";var r=i("87cd"),n=i.n(r);n.a},fb6a:function(e,t,i){"use strict";var r=i("23e7"),n=i("861d"),a=i("e8b5"),s=i("23cb"),l=i("50c4"),o=i("fc6a"),c=i("8418"),u=i("b622"),m=i("1dde"),d=i("ae40"),f=m("slice"),g=d("slice",{ACCESSORS:!0,0:0,1:2}),h=u("species"),p=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!f||!g},{slice:function(e,t){var i,r,u,m=o(this),d=l(m.length),f=s(e,d),g=s(void 0===t?d:t,d);if(a(m)&&(i=m.constructor,"function"!=typeof i||i!==Array&&!a(i.prototype)?n(i)&&(i=i[h],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return p.call(m,f,g);for(r=new(void 0===i?Array:i)(v(g-f,0)),u=0;f<g;f++,u++)f in m&&c(r,u,m[f]);return r.length=u,r}})}}]);