(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e9d2927"],{"0f55f":function(t,e,n){},"2c51":function(t,e,n){"use strict";n.d(e,"n",(function(){return o})),n.d(e,"m",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"B",(function(){return s})),n.d(e,"l",(function(){return u})),n.d(e,"k",(function(){return l})),n.d(e,"a",(function(){return c})),n.d(e,"A",(function(){return d})),n.d(e,"j",(function(){return p})),n.d(e,"g",(function(){return f})),n.d(e,"D",(function(){return m})),n.d(e,"i",(function(){return g})),n.d(e,"h",(function(){return C})),n.d(e,"c",(function(){return h})),n.d(e,"q",(function(){return I})),n.d(e,"f",(function(){return b})),n.d(e,"w",(function(){return v})),n.d(e,"y",(function(){return E})),n.d(e,"d",(function(){return O})),n.d(e,"s",(function(){return w})),n.d(e,"r",(function(){return M})),n.d(e,"p",(function(){return j})),n.d(e,"o",(function(){return k})),n.d(e,"C",(function(){return _})),n.d(e,"u",(function(){return S})),n.d(e,"v",(function(){return D})),n.d(e,"t",(function(){return T})),n.d(e,"e",(function(){return N})),n.d(e,"x",(function(){return P})),n.d(e,"z",(function(){return x}));var r=n("b775");function o(t){return Object(r["a"])({url:"api/ContestManage/GetContestOverallIntroductionPageList",method:"post",data:t})}function i(t){return Object(r["a"])({url:"api/ContestManage/GetContestOverallIntroductionInfo/"+t,method:"post",data:t})}function a(t){return Object(r["a"])({url:"api/ContestManage/AddContestOverallIntroduction",method:"post",data:t})}function s(t){return Object(r["a"])({url:"api/ContestManage/UpdateContestOverallIntroduction",method:"post",data:t})}function u(t){return Object(r["a"])({url:"api/ContestManage/GetContestInformationPageList",method:"post",data:t})}function l(t){return Object(r["a"])({url:"api/ContestManage/GetContestInformationInfo/"+t,method:"post",data:null})}function c(t){return Object(r["a"])({url:"api/ContestManage/AddContestInformation",method:"post",data:t})}function d(t){return Object(r["a"])({url:"api/ContestManage/UpdateContestInformation",method:"post",data:t})}function p(t){return Object(r["a"])({url:"api/ContestManage/GetContestInformationDetailPageList",method:"post",data:t})}function f(t){return Object(r["a"])({url:"api/ContestManage/EditContestInformationDetail",method:"post",data:t})}function m(t){return Object(r["a"])({url:"api/ContestManage/UploadContestCoverPicture",method:"post",data:t})}function g(t){return Object(r["a"])({url:"api/ContestManage/GetContestApplyPageList",method:"post",data:t})}function C(t){return Object(r["a"])({url:"api/ContestManage/GetContestApplyInfo/"+t,method:"post",data:null})}function h(t){return Object(r["a"])({url:"api/ContestManage/ApproveContestApply",method:"post",data:t})}function I(t){return Object(r["a"])({url:"api/ContestManage/GetContestTeamPageList",method:"post",data:t})}function b(t){return Object(r["a"])({url:"api/ContestManage/DissolutionContestTeam/"+t,method:"post"})}function v(t){return Object(r["a"])({url:"api/ContestManage/GetNoContestTeamPageList",method:"post",data:t})}function E(t){return Object(r["a"])({url:"api/ContestManage/ManualTeam",method:"post",data:t})}function O(){return Object(r["a"])({url:"api/ContestManage/AutomaticTeam",method:"post",data:null})}function w(t){return Object(r["a"])({url:"api/ContestManage/GetContestTeamWorkPageList",method:"post",data:t})}function M(t){return Object(r["a"])({url:"api/ContestManage/GetContestTeamWorkInfo/"+t,method:"post",data:null})}function j(t){return Object(r["a"])({url:"api/ContestManage/GetContestReviewRankPageList",method:"post",data:t})}function k(t){return Object(r["a"])({url:"api/ContestManage/GetContestReviewPageList",method:"post",data:t})}function _(t){return Object(r["a"])({url:"api/ContestManage/UpdateContestReviewRank",method:"post",data:t})}function S(t){return Object(r["a"])({url:"api/ContestManage/GetContestVotingRankPageList",method:"post",data:t})}function D(t){return Object(r["a"])({url:"api/ContestManage/GetContestVotingRecordPageList",method:"post",data:t})}function T(t){return Object(r["a"])({url:"api/ContestManage/GetContestTutorMemberPageList/"+t,method:"post"})}function N(t){return Object(r["a"])({url:"api/ContestManage/DelContestTutorMember/"+t,method:"post"})}function P(t){return Object(r["a"])({url:"api/ContestManage/GetTutorMemberPageList",method:"post",data:t})}function x(t){return Object(r["a"])({url:"api/ContestManage/SubmitContestTutorMember",method:"post",data:t})}},"2d3f":function(t,e,n){"use strict";var r=n("0f55f"),o=n.n(r);o.a},"4b23":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"maindetail"},[n("div",{staticClass:"titleTel"},[t._v(t._s(0===t.isEdit?"新增大赛介绍":1===t.isEdit?"编辑大赛介绍":"查看大赛介绍"))]),n("div",{staticStyle:{width:"100%"}},[n("el-form",{ref:"formInit",attrs:{model:t.formInit,"label-width":"80px",rules:t.rules}},[n("el-form-item",{attrs:{label:"封面图",prop:"CoverPicture"}},[t.formInit.CoverPicture?n("div",{staticClass:"FileUpload",staticStyle:{width:"148px",height:"148px","line-height":"148px"}},[n("div",{staticClass:"fileDiv",staticStyle:{width:"148px",height:"148px","line-height":"148px",margin:"0px"}},[n("img",{attrs:{src:t.formInit.CoverPictureInfo.ShowLink,alt:""}}),n("div",{staticClass:"fileDivBg",on:{click:t.imgDeleteClick}},[n("i",{staticClass:"el-icon-delete"})])])]):n("div",{staticClass:"avatar-uploader"},[n("ul",{staticClass:"el-upload-list el-upload-list--picture-card"}),n("div",{staticClass:"el-upload el-upload--picture-card",attrs:{tabindex:"0"},on:{click:t.imgChoseClick}},[n("i",{staticClass:"el-icon-plus"})]),n("div",{staticClass:"el-upload__tip"},[t._v("只能上传jpg/png文件，且不超过2MB,建议尺寸500*500")])])]),n("el-form-item",{attrs:{label:"中文标题",prop:"Title"}},[n("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formInit.Title,callback:function(e){t.$set(t.formInit,"Title",e)},expression:"formInit.Title"}})],1),n("el-form-item",{attrs:{label:"英文标题",prop:"Title_EN"}},[n("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formInit.Title_EN,callback:function(e){t.$set(t.formInit,"Title_EN",e)},expression:"formInit.Title_EN"}})],1),n("el-form-item",{attrs:{label:"中文简述",prop:"Description"}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},placeholder:"请输入"},model:{value:t.formInit.Description,callback:function(e){t.$set(t.formInit,"Description",e)},expression:"formInit.Description"}})],1),n("el-form-item",{attrs:{label:"英文简述",prop:"Description_EN"}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},placeholder:"请输入"},model:{value:t.formInit.Description_EN,callback:function(e){t.$set(t.formInit,"Description_EN",e)},expression:"formInit.Description_EN"}})],1),n("el-form-item",{attrs:{label:"中文详情",prop:"Details"}},[n("editTinymce",{attrs:{val:t.formInit.Details,disabled:2==t.isEdit},on:{getval:t.changvalCN}})],1),n("el-form-item",{attrs:{label:"英文详情",prop:"Details_EN"}},[n("editTinymce",{attrs:{val:t.formInit.Details_EN,disabled:2==t.isEdit},on:{getval:t.changvalEN}})],1),n("el-form-item",{attrs:{prop:"Status"}},[n("div",{attrs:{slot:"label"},slot:"label"},[n("span",{staticStyle:{color:"#F56C6C"}},[t._v("*")]),t._v(" 状态 ")]),n("el-radio-group",{attrs:{disabled:2===t.isEdit},model:{value:t.formInit.Status,callback:function(e){t.$set(t.formInit,"Status",e)},expression:"formInit.Status"}},[n("el-radio",{attrs:{label:0,size:"small"}},[t._v("禁用")]),n("el-radio",{attrs:{label:1,size:"small"}},[t._v("启用")])],1)],1)],1)],1),n("div",{staticClass:"bottomButton"},[n("el-button",{attrs:{icon:"el-icon-back",size:"small",type:"info"},on:{click:t.goBack}},[t._v("返回")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:2!=t.isEdit,expression:"isEdit != 2"}],attrs:{icon:"el-icon-circle-check",size:"small",type:"primary"},on:{click:function(e){return t.onSubmit("formInit")}}},[t._v("保存")])],1)])},o=[],i=(n("c5f6"),n("2c51")),a=(n("7b0a"),n("95797")),s={name:"index",components:{editTinymce:a["a"]},props:{isEdit:{type:Number,default:0}},computed:{},data:function(){return{formInit:{CoverPicture:"",CoverPictureInfo:{FileId:"",ShowLink:""},Title:"",Title_EN:"",Description:"",Description_EN:"",Details_EN:"",Details:"",Status:1},isCropper:!1,rules:{Title:[{required:!0,message:"中文标题不能为空",trigger:"blur"}],Title_EN:[{required:!0,message:"英文标题不能为空",trigger:"blur"}],Description:[{required:!0,message:"中文简述不能为空",trigger:"blur"}],Description_EN:[{required:!0,message:"英文简述不能为空",trigger:"blur"}],CoverPicture:[{required:!0,message:"请选择封面图",trigger:"blur"}]}}},created:function(){this.isCropper=this.$route.query.isCropper,1===this.isEdit||2===this.isEdit?this.getDetail():this.setCropperImg()},mounted:function(){},methods:{changvalCN:function(t){this.formInit.Details=t},changvalEN:function(t){this.formInit.Details_EN=t},getDetail:function(){var t=this;Object(i["m"])(this.$route.query.id).then((function(e){0===e.data.Code&&(t.formInit=e.data.Data,t.setCropperImg())}))},goBack:function(){this.clearCropperImg(),this.$router.push("/race_introduction")},onSubmit:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;1===e.isEdit?e.onUpdate():0===e.isEdit&&e.onAdd()}))},onAdd:function(){var t=this;Object(i["b"])(this.formInit).then((function(e){0===e.data.Code&&(t.goBack(),t.$message.success("保存成功"))}))},onUpdate:function(){var t=this;this.formInit.Id=this.$route.query.id,Object(i["B"])(this.formInit).then((function(e){0===e.data.Code&&(t.goBack(),t.$message.success("保存成功"))}))},setCropperImg:function(){this.isCropper&&(localStorage.getItem("platformManageInfo")&&(this.formInit=JSON.parse(localStorage.getItem("platformManageInfo"))),localStorage.getItem("raceIntroCropperFileId")&&(this.formInit.CoverPictureInfo.FileId=localStorage.getItem("raceIntroCropperFileId"),this.formInit.CoverPicture=localStorage.getItem("raceIntroCropperFileId")),localStorage.getItem("raceIntroCropperShowLink")&&(this.formInit.CoverPictureInfo.ShowLink=localStorage.getItem("raceIntroCropperShowLink")))},clearCropperImg:function(){localStorage.removeItem("platformManageInfo"),localStorage.removeItem("raceIntroCropperFileId"),localStorage.removeItem("raceIntroCropperShowLink")},imgChoseClick:function(){localStorage.setItem("platformManageInfo",JSON.stringify(this.formInit)),this.$router.push({path:"/race_introduction_cropper",query:{id:this.$route.query.id,width:500,height:500}})},imgDeleteClick:function(){this.formInit.CoverPicture="",this.formInit.CoverPictureInfo={FileId:"",ShowLink:""}}}},u=s,l=(n("2d3f"),n("2877")),c=Object(l["a"])(u,r,o,!1,null,null,null);e["a"]=c.exports},"7b0a":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"e",(function(){return s}));n("6b54"),n("c5f6");function r(t,e,n){if(!e)return n(new Error("输入不可以为空"));setTimeout((function(){if(Number(e)){var t=/^[0-9]*[1-9][0-9]*$/,r=t.test(e);r?n():n(new Error("请输入正整数"))}else n(new Error("请输入正整数"))}),0)}function o(t,e,n){var r=/^[1][3-9][0-9]{9}$/;""==e||void 0==e||null==e?n(new Error("请输入正确的电话号码")):r.test(e)||""==e?n():n(new Error("请输入正确的电话号码"))}function i(t,e,n){var r=/^([a-zA-Z0-9]+[-_\.]?)+@[a-zA-Z0-9]+\.[a-z]+$/;""==e||void 0==e||null==e?n(new Error("请输入正确的邮箱")):r.test(e)?n():n(new Error("请输入正确的邮箱"))}function a(t,e,n){""==e||void 0==e||null==e||-1==e.indexOf("@")?n(new Error("请输入正确的邮箱")):n()}function s(t,e,n){if(void 0==e||null==e)return n(new Error("输入不可以为空"));setTimeout((function(){e=e.toString(),e.length>0?e.length>3||parseFloat(e)<.1||parseFloat(e)>.9?n(new Error("输入0.1-0.9之间")):n():n(new Error("输入不可以为空"))}),0)}},f8bb:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("edit-template",{attrs:{"is-edit":0}})},o=[],i=n("4b23"),a={name:"CreateForm",components:{editTemplate:i["a"]}},s=a,u=n("2877"),l=Object(u["a"])(s,r,o,!1,null,null,null);e["default"]=l.exports}}]);