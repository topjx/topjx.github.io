(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8c039396"],{"0c3e":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("edit-template",{attrs:{"is-edit":1}})},a=[],n=i("ffe0"),o={name:"EditeForm",components:{editTemplate:n["a"]}},s=o,l=i("2877"),u=Object(l["a"])(s,r,a,!1,null,null,null);t["default"]=u.exports},"78a7":function(e,t,i){"use strict";i.d(t,"g",(function(){return a})),i.d(t,"b",(function(){return n})),i.d(t,"f",(function(){return o})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return l})),i.d(t,"i",(function(){return u})),i.d(t,"e",(function(){return c})),i.d(t,"h",(function(){return d})),i.d(t,"d",(function(){return m})),i.d(t,"l",(function(){return f})),i.d(t,"p",(function(){return p})),i.d(t,"o",(function(){return h})),i.d(t,"u",(function(){return g})),i.d(t,"n",(function(){return b})),i.d(t,"j",(function(){return I})),i.d(t,"k",(function(){return E})),i.d(t,"m",(function(){return v})),i.d(t,"s",(function(){return M})),i.d(t,"r",(function(){return C})),i.d(t,"q",(function(){return N})),i.d(t,"t",(function(){return _}));var r=i("b775");function a(e){return Object(r["a"])({url:"api/MechanismMemberManage/Mechanism_MemberPageList",method:"post",data:e})}function n(e){return Object(r["a"])({url:"api/MechanismMemberManage/ChangeMemberState/"+e.ID+"?State="+e.State,method:"get",data:e})}function o(e){return Object(r["a"])({url:"api/MechanismMemberManage/GetEntityById/"+e,method:"get",data:e})}function s(e){return Object(r["a"])({url:"api/MechanismMemberManage/DelEntityById/"+e.ID+"?IsDelete=1",method:"get",data:e})}function l(e){return Object(r["a"])({url:"api/MechanismMemberManage/AddMechanism_MemberEntity",method:"post",data:e})}function u(e){return Object(r["a"])({url:"api/MechanismMemberManage/UpdateMechanism_MemberEntity",method:"post",data:e})}function c(e){return Object(r["a"])({url:"api/MechanismInformationManage/Find",method:"post",data:e})}function d(e){return Object(r["a"])({url:"api/MechanismInformationManage/Update",method:"post",data:e})}function m(e){return Object(r["a"])({url:"api/MechanismInformationManage/GetEntityById/"+e,method:"get",data:e})}function f(e){return Object(r["a"])({url:"api/MechanismEmployeeProfileManage/Add",method:"post",data:e})}function p(e){return Object(r["a"])({url:"api/MechanismEmployeeProfileManage/Find",method:"post",data:e})}function h(e){return Object(r["a"])({url:"api/MechanismEmployeeProfileManage/GetEntityById/"+e,method:"get",data:e})}function g(e){return Object(r["a"])({url:"api/MechanismEmployeeProfileManage/Update",method:"post",data:e})}function b(e){return Object(r["a"])({url:"api/MechanismBigAnoteManage/Find",method:"post",data:e})}function I(e){return Object(r["a"])({url:"api/MechanismBigAnoteManage/Add",method:"post",data:e})}function E(e){return Object(r["a"])({url:"api/MechanismBigAnoteManage/Update",method:"post",data:e})}function v(e){return Object(r["a"])({url:"api/MechanismBigAnoteManage/GetEntityById/"+e,method:"get",data:e})}function M(e){return Object(r["a"])({url:"api/MechanismRecruitersManage/Add",method:"post",data:e})}function C(e){return Object(r["a"])({url:"api/MechanismRecruitersManage/Find",method:"post",data:e})}function N(e){return Object(r["a"])({url:"api/MechanismRecruitersManage/GetEntityById/"+e,method:"get",data:e})}function _(e){return Object(r["a"])({url:"api/MechanismRecruitersManage/Update",method:"post",data:e})}},"7b0a":function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"d",(function(){return a})),i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"e",(function(){return s}));i("6b54"),i("c5f6");function r(e,t,i){if(!t)return i(new Error("输入不可以为空"));setTimeout((function(){if(Number(t)){var e=/^[0-9]*[1-9][0-9]*$/,r=e.test(t);r?i():i(new Error("请输入正整数"))}else i(new Error("请输入正整数"))}),0)}function a(e,t,i){var r=/^[1][3-9][0-9]{9}$/;""==t||void 0==t||null==t?i(new Error("请输入正确的电话号码")):r.test(t)||""==t?i():i(new Error("请输入正确的电话号码"))}function n(e,t,i){var r=/^([a-zA-Z0-9]+[-_\.]?)+@[a-zA-Z0-9]+\.[a-z]+$/;""==t||void 0==t||null==t?i(new Error("请输入正确的邮箱")):r.test(t)?i():i(new Error("请输入正确的邮箱"))}function o(e,t,i){""==t||void 0==t||null==t||-1==t.indexOf("@")?i(new Error("请输入正确的邮箱")):i()}function s(e,t,i){if(void 0==t||null==t)return i(new Error("输入不可以为空"));setTimeout((function(){t=t.toString(),t.length>0?t.length>3||parseFloat(t)<.1||parseFloat(t)>.9?i(new Error("输入0.1-0.9之间")):i():i(new Error("输入不可以为空"))}),0)}},a0bb:function(e,t,i){},bdb1:function(e,t,i){"use strict";var r=i("a0bb"),a=i.n(r);a.a},ffe0:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bannerTel"},[i("div",{staticClass:"titleTel"},[e._v(e._s(0===e.isEdit?"新增员工信息":1===e.isEdit?"编辑员工信息":"查看员工信息"))]),i("div",{staticStyle:{width:"100%"}},[i("el-form",{ref:"formInit",attrs:{model:e.formInit,"label-width":"80px",rules:e.rules}},[i("el-form-item",{attrs:{label:"照片",prop:"ShowLink"}},[e.formInit.ShowLink?i("div",{staticClass:"FileUpload",staticStyle:{width:"148px",height:"148px","line-height":"148px"}},[i("div",{staticClass:"fileDiv",staticStyle:{width:"148px",height:"148px","line-height":"148px",margin:"0px"}},[i("img",{attrs:{src:e.formInit.ShowLink,alt:""}}),i("div",{staticClass:"fileDivBg",on:{click:e.imgDeleteClick}},[i("i",{staticClass:"el-icon-delete"})])])]):i("div",{staticClass:"avatar-uploader"},[i("ul",{staticClass:"el-upload-list el-upload-list--picture-card"}),i("div",{staticClass:"el-upload el-upload--picture-card",attrs:{tabindex:"0"},on:{click:e.imgChoseClick}},[i("i",{staticClass:"el-icon-plus"}),i("input",{staticClass:"el-upload__input",attrs:{type:"file",name:"logoImage",accept:".jpg, .png, .jpeg"}})]),i("div",{staticClass:"el-upload__tip"},[e._v("只能上传jpg/png文件，且不超过2MB,建议尺寸368*368")])]),i("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("img",{staticClass:"ploader-icon",attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),i("el-form-item",{attrs:{label:"中文姓名",prop:"NameCN"}},[i("el-input",{attrs:{placeholder:"请输入",maxlength:this.GLOBAL.MAX_LENGTH_TITLE},model:{value:e.formInit.NameCN,callback:function(t){e.$set(e.formInit,"NameCN",t)},expression:"formInit.NameCN"}})],1),i("el-form-item",{attrs:{label:"英文姓名",prop:"NameEN"}},[i("el-input",{attrs:{placeholder:"请输入",maxlength:this.GLOBAL.MAX_LENGTH_TITLE},model:{value:e.formInit.NameEN,callback:function(t){e.$set(e.formInit,"NameEN",t)},expression:"formInit.NameEN"}})],1),i("el-form-item",{attrs:{label:"中文简介",prop:"Brief_CN"}},[i("el-input",{attrs:{placeholder:"请输入",maxlength:this.GLOBAL.MAX_LENGTH_DES},model:{value:e.formInit.Brief_CN,callback:function(t){e.$set(e.formInit,"Brief_CN",t)},expression:"formInit.Brief_CN"}})],1),i("el-form-item",{attrs:{label:"英文简介",prop:"Brief_EN"}},[i("el-input",{attrs:{placeholder:"请输入",maxlength:this.GLOBAL.MAX_LENGTH_DES},model:{value:e.formInit.Brief_EN,callback:function(t){e.$set(e.formInit,"Brief_EN",t)},expression:"formInit.Brief_EN"}})],1),i("el-form-item",{attrs:{label:"中文详情",prop:"Details_CN"}},[i("editTinymce",{attrs:{val:e.formInit.Details_CN,disabled:2==e.isEdit},on:{getval:e.changvalCN}})],1),i("el-form-item",{attrs:{label:"英文详情",prop:"Details_EN"}},[i("editTinymce",{attrs:{val:e.formInit.Details_EN,disabled:2==e.isEdit},on:{getval:e.changvalEN}})],1),i("el-form-item",{attrs:{label:"排序",prop:"OrderIndex"}},[i("el-input",{attrs:{placeholder:"请输入正整数",type:"number",max:"100",min:"1",oninput:"if(value>100)value=100"},model:{value:e.formInit.OrderIndex,callback:function(t){e.$set(e.formInit,"OrderIndex",t)},expression:"formInit.OrderIndex"}})],1),i("el-form-item",{attrs:{label:"状态",prop:"State"}},[i("el-radio-group",{attrs:{disabled:2===e.isEdit},model:{value:e.formInit.State,callback:function(t){e.$set(e.formInit,"State",t)},expression:"formInit.State"}},[i("el-radio",{attrs:{label:"0",size:"small"}},[e._v("启用")]),i("el-radio",{attrs:{label:"1",size:"small"}},[e._v("禁用")])],1)],1)],1)],1),i("div",{staticClass:"bottomButton"},[i("el-button",{attrs:{icon:"el-icon-circle-close",size:"small",type:"info"},on:{click:e.goBack}},[e._v("取消")]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:2!=e.isEdit,expression:"isEdit != 2"}],attrs:{icon:"el-icon-circle-check",size:"small",type:"primary"},on:{click:function(t){return e.onSubmit("formInit")}}},[e._v("保存")])],1)])},a=[],n=(i("c5f6"),i("78a7")),o=i("7b0a"),s=i("95797"),l={name:"index",components:{editTinymce:s["a"]},props:{isEdit:{type:Number,default:0}},data:function(){return{formInit:{FileId:"",Photo:"",ShowLink:"",NameCN:"",NameEN:"",Brief_CN:"",Brief_EN:"",Details_CN:"",Details_EN:"",OrderIndex:null,State:"0"},isCropper:!1,baseURL:global_config.BASE_URL,api:"",imagelist:[],myHeaders:{"x-token":""},fileType:".jpg,.png,.jpeg",dialogImageUrl:"",dialogVisible:!1,rules:{OrderIndex:[{required:!0,message:"请输入正整数",validator:o["a"],trigger:"blur"}],ShowLink:[{required:!0,message:"请选择头像",trigger:"blur"}],NameCN:[{required:!0,message:"请输入中文姓名",trigger:"blur"}],NameEN:[{required:!0,message:"请输入英文姓名",trigger:"blur"}],Brief_CN:[{required:!0,message:"请输入中文简介",trigger:"blur"}],Brief_EN:[{required:!0,message:"请输入英文简介",trigger:"blur"}],Details_CN:[{required:!0,message:"请输入中文详情",trigger:"blur"}],Details_EN:[{required:!0,message:"请输入英文详情",trigger:"blur"}]}}},computed:{uploadDisabled:function(){return this.imagelist.length>0}},created:function(){this.isCropper=this.$route.query.isCropper,1===this.isEdit||2===this.isEdit?this.getDetail():this.setCropperImg(),this.myHeaders["x-token"]=localStorage.getItem("mToken")},mounted:function(){},methods:{changvalCN:function(e){this.formInit.Details_CN=e},changvalEN:function(e){this.formInit.Details_EN=e},imgChoseClick:function(){this.$router.push({path:"/organize_employee_cropper",query:{id:this.$route.query.id,width:368,height:368}})},imgDeleteClick:function(){this.formInit.ShowLink="",this.formInit.FileId=""},getDetail:function(){var e=this;Object(n["o"])(this.$route.query.id).then((function(t){0===t.data.Code&&(e.formInit=t.data.Data,e.formInit.State=t.data.Data.State,e.setCropperImg())}))},setCropperImg:function(){this.isCropper&&(localStorage.getItem("organizeEmpCropperFileId")&&(this.formInit.FileId=localStorage.getItem("organizeEmpCropperFileId")),localStorage.getItem("organizeEmpCropperShowLink")&&(this.formInit.ShowLink=localStorage.getItem("organizeEmpCropperShowLink")))},clearCropperImg:function(){localStorage.removeItem("organizeEmpCropperFileId"),localStorage.removeItem("organizeEmpCropperShowLink")},goBack:function(){this.clearCropperImg(),this.$router.push("/organize_employee")},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.formInit.Photo=t.formInit.FileId,1===t.isEdit?t.onUpdate():0===t.isEdit&&t.onAdd()}))},onAdd:function(){var e=this;Object(n["l"])(this.formInit).then((function(t){0===t.data.Code&&(e.goBack(),e.$message.success("保存成功"))}))},onUpdate:function(){var e=this;Object(n["u"])(this.formInit).then((function(t){0===t.data.Code&&(e.goBack(),e.$message.success("保存成功"))}))},handleRemove:function(e,t){this.imagelist=t},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},uploafPicSuccess:function(e,t,i){this.formInit.ShowLink="",0===e.Code?null!=e.Data.FileId?(this.formInit.FileId=e.Data.FileId,this.formInit.Photo=e.Data.FileId,this.imagelist=i,this.formInit.ShowLink=this.imagelist[0].response.Data.ShowLink):(this.formInit.FileId="",this.formInit.Photo="",this.$message.closeAll(),this.$message.error(e.Data.Message)):20002===e.Code?(this.$message.closeAll(),this.$message.error("登录已过期，请重新登录"),this.$router.push("/"),localStorage.setItem("mToken","")):(this.$message.closeAll(),this.$message.error(e.Data.Message))},beforeAvatarUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("上传图片大小不能超过 2MB!"),t}}},u=l,c=(i("bdb1"),i("2877")),d=Object(c["a"])(u,r,a,!1,null,null,null);t["a"]=d.exports}}]);