(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-483bf47b"],{1084:function(t,e,n){"use strict";n.d(e,"k",(function(){return a})),n.d(e,"j",(function(){return r})),n.d(e,"p",(function(){return o})),n.d(e,"x",(function(){return l})),n.d(e,"a",(function(){return s})),n.d(e,"f",(function(){return u})),n.d(e,"m",(function(){return c})),n.d(e,"l",(function(){return m})),n.d(e,"w",(function(){return d})),n.d(e,"c",(function(){return p})),n.d(e,"t",(function(){return f})),n.d(e,"u",(function(){return g})),n.d(e,"g",(function(){return h})),n.d(e,"i",(function(){return b})),n.d(e,"h",(function(){return I})),n.d(e,"b",(function(){return v})),n.d(e,"e",(function(){return _})),n.d(e,"q",(function(){return C})),n.d(e,"r",(function(){return E})),n.d(e,"s",(function(){return H})),n.d(e,"o",(function(){return N})),n.d(e,"n",(function(){return w})),n.d(e,"d",(function(){return D})),n.d(e,"v",(function(){return S}));var i=n("b775");function a(t){return Object(i["a"])({url:"api/HomeManage/GetHomeBannerPageList",method:"post",data:t})}function r(t){return Object(i["a"])({url:"api/HomeManage/GetHomeBannerById/"+t,method:"post",data:null})}function o(t){return Object(i["a"])({url:"api/HomeManage/UpdateBanner",method:"post",data:t})}function l(t){return Object(i["a"])({url:"api/HomeManage/UploadBannerImage",method:"post",data:t})}function s(t){return Object(i["a"])({url:"api/HomeManage/AddBanner",method:"post",data:t})}function u(t){return Object(i["a"])({url:"api/HomeManage/DelHomeBanner/"+t,method:"post",data:null})}function c(t){return Object(i["a"])({url:"api/HomeManage/GetHomeInformationActivitiesPageList",method:"post",data:t})}function m(t){return Object(i["a"])({url:"api/HomeManage/GetHomeInformationActivitiesById/"+t,method:"post",data:null})}function d(t){return Object(i["a"])({url:"api/HomeManage/UploadActivitiesImage",method:"post",data:t})}function p(t){return Object(i["a"])({url:"api/HomeManage/AddHomeInformationActivities",method:"post",data:t})}function f(t){return Object(i["a"])({url:"api/HomeManage/UpdateHomeInformationActivities",method:"post",data:t})}function g(t){return Object(i["a"])({url:"api/HomeManage/UpdateHomeInformationActivitiesStatus/"+t.id+"?type="+t.type,method:"post",data:null})}function h(t){return Object(i["a"])({url:"api/HomeManage/DelHomeInformationActivities/"+t,method:"post",data:null})}function b(t){return Object(i["a"])({url:"api/HomeManage/GetHomeAnnouncementPageList",method:"post",data:t})}function I(t){return Object(i["a"])({url:"api/HomeManage/GetHomeAnnouncementById/"+t,method:"post",data:null})}function v(t){return Object(i["a"])({url:"api/HomeManage/AddHomeAnnouncement",method:"post",data:t})}function _(t){return Object(i["a"])({url:"api/HomeManage/DelHomeAnnouncement/"+t,method:"post",data:null})}function C(t){return Object(i["a"])({url:"api/HomeManage/UpdateHomeAnnouncement",method:"post",data:t})}function E(t){return Object(i["a"])({url:"api/HomeManage/UpdateHomeAnnouncementPublish/"+t.id,method:"post",data:null})}function H(t){return Object(i["a"])({url:"api/HomeManage/UpdateHomeAnnouncementShelves/"+t.id,method:"post",data:null})}function N(t){return Object(i["a"])({url:"api/HomeManage/GetHomePublicityVideoPageList",method:"post",data:t})}function w(t){return Object(i["a"])({url:"api/HomeManage/GetHomePublicityVideoById/"+t,method:"post",data:null})}function D(t){return Object(i["a"])({url:"api/HomeManage/AddHomePublicityVideo",method:"post",data:t})}function S(t){return Object(i["a"])({url:"api/HomeManage/UpdateHomePublicityVideo",method:"post",data:t})}},"4e70":function(t,e,n){"use strict";var i=n("fe89"),a=n.n(i);a.a},"7b0a":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return l}));n("6b54"),n("c5f6");function i(t,e,n){if(!e)return n(new Error("输入不可以为空"));setTimeout((function(){if(Number(e)){var t=/^[0-9]*[1-9][0-9]*$/,i=t.test(e);i?n():n(new Error("请输入正整数"))}else n(new Error("请输入正整数"))}),0)}function a(t,e,n){var i=/^[1][3-9][0-9]{9}$/;""==e||void 0==e||null==e?n(new Error("请输入正确的电话号码")):i.test(e)||""==e?n():n(new Error("请输入正确的电话号码"))}function r(t,e,n){var i=/^([a-zA-Z0-9]+[-_\.]?)+@[a-zA-Z0-9]+\.[a-z]+$/;""==e||void 0==e||null==e?n(new Error("请输入正确的邮箱")):i.test(e)?n():n(new Error("请输入正确的邮箱"))}function o(t,e,n){""==e||void 0==e||null==e||-1==e.indexOf("@")?n(new Error("请输入正确的邮箱")):n()}function l(t,e,n){if(void 0==e||null==e)return n(new Error("输入不可以为空"));setTimeout((function(){e=e.toString(),e.length>0?e.length>3||parseFloat(e)<.1||parseFloat(e)>.9?n(new Error("输入0.1-0.9之间")):n():n(new Error("输入不可以为空"))}),0)}},"9eae":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bannerTel"},[n("div",{staticClass:"titleTel"},[t._v(t._s(0===t.isEdit?"Banner新增":1===t.isEdit?"Banner编辑":"Banner查看"))]),n("div",{staticStyle:{width:"100%"}},[n("el-form",{ref:"elformInit",attrs:{model:t.formInit,"label-width":"100px",rules:t.rules}},[n("el-form-item",{attrs:{label:"Banner图",prop:"ImageUrl"}},[t.formInit.ImageUrl?n("div",{staticClass:"FileUpload",staticStyle:{width:"148px",height:"148px","line-height":"148px"}},[n("div",{staticClass:"fileDiv",staticStyle:{width:"148px",height:"148px","line-height":"148px",margin:"0px"}},[n("img",{attrs:{src:t.formInit.ImageUrl,alt:""}}),n("div",{staticClass:"fileDivBg",on:{click:t.bannerImgDeleteClick}},[n("i",{staticClass:"el-icon-delete"})])])]):n("div",{staticClass:"avatar-uploader"},[n("ul",{staticClass:"el-upload-list el-upload-list--picture-card"}),n("div",{staticClass:"el-upload el-upload--picture-card",attrs:{tabindex:"0"},on:{click:t.bannerChoseClick}},[n("i",{staticClass:"el-icon-plus"}),n("input",{staticClass:"el-upload__input",attrs:{type:"file",name:"logoImage",accept:".jpg, .png, .jpeg"}})]),n("div",{staticClass:"el-upload__tip"},[t._v("只能上传jpg/png文件，且不超过2MB,建议尺寸960*431")])]),n("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("img",{staticClass:"ploader-icon",attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1),n("el-form-item",{attrs:{label:"排序",prop:"Sort"}},[n("el-input",{attrs:{placeholder:"请输入排序",type:"number",max:"100",min:"1"},model:{value:t.formInit.Sort,callback:function(e){t.$set(t.formInit,"Sort",e)},expression:"formInit.Sort"}})],1),n("el-form-item",{attrs:{label:"状态",prop:"Status"}},[n("el-radio-group",{attrs:{disabled:2===t.isEdit},model:{value:t.formInit.Status,callback:function(e){t.$set(t.formInit,"Status",e)},expression:"formInit.Status"}},[n("el-radio",{attrs:{label:"0",size:"small"}},[t._v("启用")]),n("el-radio",{attrs:{label:"1",size:"small"}},[t._v("禁用")])],1)],1),n("el-form-item",{attrs:{label:"中文标题",prop:"Title_CN"}},[n("el-input",{attrs:{placeholder:"请输入",maxlength:this.GLOBAL.MAX_LENGTH_TITLE},model:{value:t.formInit.Title_CN,callback:function(e){t.$set(t.formInit,"Title_CN",e)},expression:"formInit.Title_CN"}})],1),n("el-form-item",{attrs:{label:"英文标题",prop:"Title_EN"}},[n("el-input",{attrs:{placeholder:"请输入",maxlength:this.GLOBAL.MAX_LENGTH_TITLE},model:{value:t.formInit.Title_EN,callback:function(e){t.$set(t.formInit,"Title_EN",e)},expression:"formInit.Title_EN"}})],1),n("el-form-item",{attrs:{label:"中文简述",prop:"Des_CN"}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入",maxlength:this.GLOBAL.MAX_LENGTH_DES},model:{value:t.formInit.Des_CN,callback:function(e){t.$set(t.formInit,"Des_CN",e)},expression:"formInit.Des_CN"}})],1),n("el-form-item",{attrs:{label:"英文简述",prop:"Des_EN"}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},disabled:!1,placeholder:"请输入",maxlength:this.GLOBAL.MAX_LENGTH_DES},model:{value:t.formInit.Des_EN,callback:function(e){t.$set(t.formInit,"Des_EN",e)},expression:"formInit.Des_EN"}})],1),n("el-form-item",{attrs:{label:"中文详情",prop:"Details_CN"}},[n("editTinymce",{attrs:{val:t.formInit.Details_CN,disabled:2==t.isEdit},on:{getval:t.changvalCN}})],1),n("el-form-item",{attrs:{label:"英文详情",prop:"Details_EN"}},[n("editTinymce",{attrs:{val:t.formInit.Details_EN,disabled:2==t.isEdit},on:{getval:t.changvalEN}})],1)],1)],1),n("div",{staticClass:"bottomButton"},[n("el-button",{attrs:{icon:"el-icon-circle-close",size:"small",type:"info"},on:{click:t.goBack}},[t._v("取消")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:2!=t.isEdit,expression:"isEdit != 2"}],attrs:{icon:"el-icon-circle-check",size:"small",type:"primary"},on:{click:function(e){return t.onSubmit("elformInit")}}},[t._v("保存")])],1)])},a=[],r=(n("c5f6"),n("1084")),o=n("7b0a"),l=n("95797"),s={name:"index",components:{editTinymce:l["a"]},props:{isEdit:{type:Number,default:0}},data:function(){return{formInit:{Id:null,FileId:"",ImageUrl:"",Sort:null,Status:"0",ShowLink:"",Title_CN:"",Title_EN:"",Des_CN:"",Des_EN:"",Details_CN:"",Details_EN:""},isCropper:!1,baseURL:global_config.BASE_URL,api:"",imagelist:[],myHeaders:{"x-token":""},fileType:".jpg,.png,.jpeg",dialogImageUrl:"",dialogVisible:!1,rules:{ImageUrl:[{required:!0,message:"请选择图片",trigger:"change"}],Sort:[{required:!0,message:"请输入排序",validator:o["a"],trigger:"blur"}],Status:[{required:!0,message:"请选择状态",trigger:"change"}],Title_CN:[{required:!0,message:"请输入中文标题",trigger:"blur"}],Title_EN:[{required:!0,message:"请输入英文标题",trigger:"blur"}],Des_CN:[{required:!0,message:"请输入中文简述",trigger:"blur"}],Des_EN:[{required:!0,message:"请输入英文简述",trigger:"blur"}]}}},created:function(){this.isCropper=this.$route.query.isCropper,1===this.isEdit||2===this.isEdit?this.getDetail():this.setCropperImg(),this.myHeaders["x-token"]=localStorage.getItem("mToken")},mounted:function(){},computed:{uploadDisabled:function(){return this.imagelist.length>0}},methods:{changvalCN:function(t){this.formInit.Details_CN=t},changvalEN:function(t){this.formInit.Details_EN=t},bannerChoseClick:function(){this.$router.push({path:"/website_banner_cropper",query:{Id:this.$route.query.Id}})},bannerImgDeleteClick:function(){this.formInit.ImageUrl="",this.formInit.FileId=""},getDetail:function(){var t=this;Object(r["j"])(this.$route.query.Id).then((function(e){0===e.data.Code&&(t.formInit=e.data.Data,t.setCropperImg())}))},setCropperImg:function(){this.isCropper&&(localStorage.getItem("cropperFileId")&&(this.formInit.FileId=localStorage.getItem("cropperFileId")),localStorage.getItem("cropperShowLink")&&(this.formInit.ImageUrl=localStorage.getItem("cropperShowLink")))},clearCropperImg:function(){localStorage.removeItem("cropperFileId"),localStorage.removeItem("cropperShowLink")},goBack:function(){this.clearCropperImg(),this.$router.push("/website_banner")},onSubmit:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;1===e.isEdit?e.onUpdate():0===e.isEdit&&e.onAdd()}))},onAdd:function(){var t=this;Object(r["a"])(this.formInit).then((function(e){0===e.data.Code&&(t.goBack(),t.$message.success("保存成功"))}))},onUpdate:function(){var t=this;Object(r["p"])(this.formInit).then((function(e){0===e.data.Code&&(t.goBack(),t.$message.success("保存成功"))}))},handleRemove:function(t,e){this.formInit.ImageUrl="",this.imagelist=e},handlePictureCardPreview:function(t){this.formInit.ImageUrl=t.url,this.dialogImageUrl=t.url,this.dialogVisible=!0},uploafPicSuccess:function(t,e,n){this.formInit.ImageUrl="",0===t.Code?null!=t.Data.FileId?(this.formInit.FileId=t.Data.FileId,this.imagelist=n,this.formInit.ImageUrl=this.imagelist[0].response.Data.ShowLink):(this.formInit.FileId="",this.$message.closeAll(),this.$message.error(t.Data.Message)):20002===t.Code?(this.$message.closeAll(),this.$message.error("登录已过期，请重新登录"),this.$router.push("/"),localStorage.setItem("mToken","")):(this.$message.closeAll(),this.$message.error(t.Data.Message))},beforeAvatarUpload:function(t){var e=t.size/1024/1024<2;return e||this.$message.error("上传图片大小不能超过 2MB!"),e}}},u=s,c=(n("4e70"),n("2877")),m=Object(c["a"])(u,i,a,!1,null,null,null);e["a"]=m.exports},b13d:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("edit-template",{attrs:{"is-edit":1}})},a=[],r=n("9eae"),o={name:"EditeForm",components:{editTemplate:r["a"]}},l=o,s=n("2877"),u=Object(s["a"])(l,i,a,!1,null,null,null);e["default"]=u.exports},fe89:function(t,e,n){}}]);