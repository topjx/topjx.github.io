(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ef6d798"],{2225:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bannerTel"},[n("div",{staticClass:"titleTel"},[t._v(t._s(0===t.isEdit?"新建会员":1===t.isEdit?"编辑会员":"查看会员"))]),n("div",{staticStyle:{width:"600px"}},[n("el-form",{directives:[{name:"show",rawName:"v-show",value:!t.isCompany,expression:"!isCompany"}],ref:"formInit",attrs:{model:t.formInit,"label-width":"120px",rules:t.rules}},[n("el-form-item",{attrs:{label:"用户名",prop:"UserName"}},[n("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formInit.UserName,callback:function(e){t.$set(t.formInit,"UserName",e)},expression:"formInit.UserName"}})],1),n("el-form-item",{attrs:{label:"所在机构",prop:"Organization"}},[n("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formInit.Organization,callback:function(e){t.$set(t.formInit,"Organization",e)},expression:"formInit.Organization"}})],1),n("el-form-item",{attrs:{label:"手机号",prop:"Mobile"}},[n("el-input",{attrs:{type:"number",placeholder:"请输入"},model:{value:t.formInit.Mobile,callback:function(e){t.$set(t.formInit,"Mobile",e)},expression:"formInit.Mobile"}})],1),n("el-form-item",{attrs:{label:"邮箱",prop:"Email"}},[n("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formInit.Email,callback:function(e){t.$set(t.formInit,"Email",e)},expression:"formInit.Email"}})],1),n("el-form-item",{attrs:{label:"状态",prop:"Status"}},[n("el-radio-group",{attrs:{disabled:2===t.isEdit},model:{value:t.formInit.Status,callback:function(e){t.$set(t.formInit,"Status",e)},expression:"formInit.Status"}},[n("el-radio",{attrs:{label:1,size:"small"}},[t._v("禁用")]),n("el-radio",{attrs:{label:0,size:"small"}},[t._v("启用")])],1)],1)],1),n("el-form",{directives:[{name:"show",rawName:"v-show",value:t.isCompany,expression:"isCompany"}],ref:"formInitCompany",attrs:{model:t.formInitCompany,"label-width":"120px",rules:t.rulesCompany}},[n("el-form-item",{attrs:{label:"企业名称",prop:"CorporateName"}},[n("el-input",{attrs:{placeholder:"请输入",maxlength:"30"},model:{value:t.formInitCompany.CorporateName,callback:function(e){t.$set(t.formInitCompany,"CorporateName",e)},expression:"formInitCompany.CorporateName"}})],1),n("el-form-item",{attrs:{label:"统一信用代码",prop:"UniformCreditCode"}},[n("el-input",{attrs:{placeholder:"请输入",maxlength:"18"},model:{value:t.formInitCompany.UniformCreditCode,callback:function(e){t.$set(t.formInitCompany,"UniformCreditCode",e)},expression:"formInitCompany.UniformCreditCode"}})],1),n("el-form-item",{attrs:{label:"营业执照",prop:"BusinessLicenseShowLink"}},[n("el-upload",{ref:"upload",staticClass:"avatar-uploader",class:{disabled:t.uploadDisabled},attrs:{action:t.baseURL+t.api,headers:t.myHeaders,accept:t.fileType,"list-type":"picture-card","file-list":t.imagelist,name:"logoImage","limitCount:1":"","on-success":t.uploafPicSuccess,"on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove,"before-upload":t.beforeAvatarUpload,disabled:2===t.isEdit}},[n("i",{staticClass:"el-icon-plus"}),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过2MB,建议尺寸264*198")])]),n("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("img",{staticClass:"ploader-icon",attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1),n("el-form-item",{attrs:{label:"企业联系人",prop:"CorporateContact"}},[n("el-input",{attrs:{placeholder:"请输入",maxlength:"15"},model:{value:t.formInitCompany.CorporateContact,callback:function(e){t.$set(t.formInitCompany,"CorporateContact",e)},expression:"formInitCompany.CorporateContact"}})],1),n("el-form-item",{attrs:{label:"联系人手机号",prop:"EnterpriseIphone"}},[n("el-input",{attrs:{placeholder:"请输入",maxlength:"11"},model:{value:t.formInitCompany.EnterpriseIphone,callback:function(e){t.$set(t.formInitCompany,"EnterpriseIphone",e)},expression:"formInitCompany.EnterpriseIphone"}})],1),n("el-form-item",{attrs:{label:"邮箱",prop:"Email"}},[n("el-input",{attrs:{placeholder:"请输入",maxlength:"18"},model:{value:t.formInitCompany.Email,callback:function(e){t.$set(t.formInitCompany,"Email",e)},expression:"formInitCompany.Email"}})],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0!=t.isEdit,expression:"isEdit != 0 "}],attrs:{label:"附加会员",prop:"IdentityStr"}},[n("el-input",{attrs:{placeholder:"",type:"textarea",disabled:!0,"show-word-limit":""},model:{value:t.formInitCompany.IdentityStr,callback:function(e){t.$set(t.formInitCompany,"IdentityStr",e)},expression:"formInitCompany.IdentityStr"}})],1),n("el-form-item",{attrs:{label:"状态",prop:"Status"}},[n("el-radio-group",{attrs:{disabled:2===t.isEdit},model:{value:t.formInitCompany.Status,callback:function(e){t.$set(t.formInitCompany,"Status",e)},expression:"formInitCompany.Status"}},[n("el-radio",{attrs:{label:1,size:"small"}},[t._v("禁用")]),n("el-radio",{attrs:{label:0,size:"small"}},[t._v("启用")])],1)],1)],1)],1),n("div",{staticClass:"bottomButton"},[n("el-button",{attrs:{icon:"el-icon-circle-close",size:"small",type:"info"},on:{click:t.goBack}},[t._v("取消")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:2!=t.isEdit&&!t.isCompany,expression:"isEdit != 2 && !isCompany"}],attrs:{icon:"el-icon-circle-check",size:"small",type:"primary"},on:{click:function(e){return t.onSubmit("formInit")}}},[t._v("保存")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:2!=t.isEdit&&t.isCompany,expression:"isEdit != 2 && isCompany"}],attrs:{icon:"el-icon-circle-check",size:"small",type:"primary"},on:{click:function(e){return t.onSubmit("formInitCompany")}}},[t._v("保存")])],1)])},i=[],r=(n("c5f6"),n("78a7")),o=(n("e876"),n("7b0a")),s={name:"index",components:{},props:{isEdit:{type:Number,default:0}},data:function(){return{formInit:{UserName:"",Organization:"",Mobile:"",Email:"",Status:0},formInitCompany:{CorporateName:"",UniformCreditCode:"",BusinessLicenseFileId:"",BusinessLicenseShowLink:"",CorporateContact:"",EnterpriseIphone:"",Email:"",IdentityStr:"",Status:0},isCompany:!1,Category:"1",baseURL:global_config.BASE_URL,api:"/api/MechanismMemberManage/UploadHeadImage",imagelist:[],myHeaders:{"x-token":""},fileType:".jpg,.png,.jpeg",dialogImageUrl:"",dialogVisible:!1,rules:{UserName:[{required:!0,message:"请输入用户名",trigger:"blur"}],Organization:[{required:!0,message:"请输入所在机构",trigger:"blur"}],Email:[{required:!0,message:"请输入正确邮箱地址",validator:o["b"],trigger:"blur"}],Mobile:[{required:!0,message:"请输入正确手机号",validator:o["d"],trigger:"blur"}]},rulesCompany:{CorporateName:[{required:!0,message:"请输入企业名称",trigger:"blur"}],UniformCreditCode:[{required:!0,message:"请输入统一信用代码",trigger:"blur"}],BusinessLicenseShowLink:[{required:!0,message:"请上传营业执照",trigger:"blur"}],CorporateContact:[{required:!0,message:"请输入企业联系人",trigger:"blur"}],Email:[{required:!0,message:"请输入正确邮箱地址",validator:o["b"],trigger:"blur"}],EnterpriseIphone:[{required:!0,message:"请输入正确手机号",validator:o["d"],trigger:"blur"}]}}},computed:{uploadDisabled:function(){return this.imagelist.length>0}},created:function(){this.isCompany=this.$route.params.isCompany,this.Category=this.isCompany?"2":"1",1!==this.isEdit&&2!==this.isEdit||this.getDetail(),this.myHeaders["x-token"]=localStorage.getItem("mToken")},mounted:function(){},methods:{getDropDownItem:function(){},getDetail:function(){var t=this;Object(r["f"])(this.$route.query.id).then((function(e){0===e.data.Code&&(t.isCompany?(t.formInitCompany=e.data.Data,t.formInitCompany.CorporateName=e.data.Data.CorporateName,t.formInitCompany.UniformCreditCode=e.data.Data.UniformCreditCode,t.formInitCompany.BusinessLicenseShowLink=e.data.Data.BusinessLicenseShowLink,t.formInitCompany.BusinessLicenseFileId=e.data.Data.BusinessLicenseFileId,t.formInitCompany.CorporateContact=e.data.Data.CorporateContact,t.formInitCompany.EnterpriseIphone=e.data.Data.EnterpriseIphone,t.formInitCompany.Email=e.data.Data.Email,t.formInitCompany.IdentityStr=e.data.Data.IdentityStr,t.formInitCompany.Status=e.data.Data.Status,t.imagelist.push({name:"logoImage",url:t.formInitCompany.BusinessLicenseShowLink,response:{Data:{FileId:t.formInitCompany.BusinessLicenseFileId}}})):t.formInit=e.data.Data)}))},goBack:function(){this.$router.go(-1)},onSubmit:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.imagelist.length>0&&(e.formInitCompany.BusinessLicenseFileId=e.imagelist[0].response.Data.FileId),1===e.isEdit?e.onUpdate():0===e.isEdit&&e.onAdd()}))},onAdd:function(){var t=this;this.isCompany?(this.formInitCompany.Category=this.Category,Object(r["a"])(this.formInitCompany).then((function(e){0===e.data.Code&&(t.goBack(),t.$message.success("保存成功"))}))):(this.formInit.Category=this.Category,Object(r["a"])(this.formInit).then((function(e){0===e.data.Code&&(t.goBack(),t.$message.success("保存成功"))})))},onUpdate:function(){var t=this;this.isCompany?(this.formInitCompany.Category=this.Category,Object(r["i"])(this.formInitCompany).then((function(e){0===e.data.Code&&(t.goBack(),t.$message.success("保存成功"))}))):(this.formInit.Category=this.Category,Object(r["i"])(this.formInit).then((function(e){0===e.data.Code&&(t.goBack(),t.$message.success("保存成功"))})))},handleRemove:function(t,e){this.imagelist=e},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},uploafPicSuccess:function(t,e,n){0===t.Code?null!=t.Data.FileId?(this.formInitCompany.BusinessLicenseFileId=t.Data.FileId,this.formInitCompany.BusinessLicenseShowLink=t.Data.ShowLink,this.imagelist=n):(this.formInitCompany.BusinessLicenseFileId="",this.formInitCompany.BusinessLicenseShowLink="",this.$message.closeAll(),this.$message.error(t.Data.Message)):20002===t.Code?(this.$message.closeAll(),this.$message.error("登录已过期，请重新登录"),this.$router.push("/"),localStorage.setItem("mToken","")):(this.$message.closeAll(),this.$message.error(t.Data.Message))},beforeAvatarUpload:function(t){var e=t.size/1024/1024<2;return e||this.$message.error("上传图片大小不能超过 2MB!"),e}}},u=s,l=(n("5ad2"),n("2877")),c=Object(l["a"])(u,a,i,!1,null,null,null);e["a"]=c.exports},"2e98":function(t,e,n){},"5ad2":function(t,e,n){"use strict";var a=n("2e98"),i=n.n(a);i.a},"5dbc":function(t,e,n){var a=n("d3f4"),i=n("8b97").set;t.exports=function(t,e,n){var r,o=e.constructor;return o!==n&&"function"==typeof o&&(r=o.prototype)!==n.prototype&&a(r)&&i&&i(t,r),t}},"78a7":function(t,e,n){"use strict";n.d(e,"g",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"f",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return u})),n.d(e,"i",(function(){return l})),n.d(e,"e",(function(){return c})),n.d(e,"h",(function(){return m})),n.d(e,"d",(function(){return d})),n.d(e,"l",(function(){return p})),n.d(e,"p",(function(){return f})),n.d(e,"o",(function(){return h})),n.d(e,"u",(function(){return g})),n.d(e,"n",(function(){return b})),n.d(e,"j",(function(){return I})),n.d(e,"k",(function(){return C})),n.d(e,"m",(function(){return y})),n.d(e,"s",(function(){return v})),n.d(e,"r",(function(){return E})),n.d(e,"q",(function(){return M})),n.d(e,"t",(function(){return w}));var a=n("b775");function i(t){return Object(a["a"])({url:"api/MechanismMemberManage/Mechanism_MemberPageList",method:"post",data:t})}function r(t){return Object(a["a"])({url:"api/MechanismMemberManage/ChangeMemberState/"+t.ID+"?State="+t.State,method:"get",data:t})}function o(t){return Object(a["a"])({url:"api/MechanismMemberManage/GetEntityById/"+t,method:"get",data:t})}function s(t){return Object(a["a"])({url:"api/MechanismMemberManage/DelEntityById/"+t.ID+"?IsDelete=1",method:"get",data:t})}function u(t){return Object(a["a"])({url:"api/MechanismMemberManage/AddMechanism_MemberEntity",method:"post",data:t})}function l(t){return Object(a["a"])({url:"api/MechanismMemberManage/UpdateMechanism_MemberEntity",method:"post",data:t})}function c(t){return Object(a["a"])({url:"api/MechanismInformationManage/Find",method:"post",data:t})}function m(t){return Object(a["a"])({url:"api/MechanismInformationManage/Update",method:"post",data:t})}function d(t){return Object(a["a"])({url:"api/MechanismInformationManage/GetEntityById/"+t,method:"get",data:t})}function p(t){return Object(a["a"])({url:"api/MechanismEmployeeProfileManage/Add",method:"post",data:t})}function f(t){return Object(a["a"])({url:"api/MechanismEmployeeProfileManage/Find",method:"post",data:t})}function h(t){return Object(a["a"])({url:"api/MechanismEmployeeProfileManage/GetEntityById/"+t,method:"get",data:t})}function g(t){return Object(a["a"])({url:"api/MechanismEmployeeProfileManage/Update",method:"post",data:t})}function b(t){return Object(a["a"])({url:"api/MechanismBigAnoteManage/Find",method:"post",data:t})}function I(t){return Object(a["a"])({url:"api/MechanismBigAnoteManage/Add",method:"post",data:t})}function C(t){return Object(a["a"])({url:"api/MechanismBigAnoteManage/Update",method:"post",data:t})}function y(t){return Object(a["a"])({url:"api/MechanismBigAnoteManage/GetEntityById/"+t,method:"get",data:t})}function v(t){return Object(a["a"])({url:"api/MechanismRecruitersManage/Add",method:"post",data:t})}function E(t){return Object(a["a"])({url:"api/MechanismRecruitersManage/Find",method:"post",data:t})}function M(t){return Object(a["a"])({url:"api/MechanismRecruitersManage/GetEntityById/"+t,method:"get",data:t})}function w(t){return Object(a["a"])({url:"api/MechanismRecruitersManage/Update",method:"post",data:t})}},"7b0a":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"d",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return s}));n("6b54"),n("c5f6");function a(t,e,n){if(!e)return n(new Error("输入不可以为空"));setTimeout((function(){if(Number(e)){var t=/^[0-9]*[1-9][0-9]*$/,a=t.test(e);a?n():n(new Error("请输入正整数"))}else n(new Error("请输入正整数"))}),0)}function i(t,e,n){var a=/^[1][3-9][0-9]{9}$/;""==e||void 0==e||null==e?n(new Error("请输入正确的电话号码")):a.test(e)||""==e?n():n(new Error("请输入正确的电话号码"))}function r(t,e,n){var a=/^([a-zA-Z0-9]+[-_\.]?)+@[a-zA-Z0-9]+\.[a-z]+$/;""==e||void 0==e||null==e?n(new Error("请输入正确的邮箱")):a.test(e)?n():n(new Error("请输入正确的邮箱"))}function o(t,e,n){""==e||void 0==e||null==e||-1==e.indexOf("@")?n(new Error("请输入正确的邮箱")):n()}function s(t,e,n){if(void 0==e||null==e)return n(new Error("输入不可以为空"));setTimeout((function(){e=e.toString(),e.length>0?e.length>3||parseFloat(e)<.1||parseFloat(e)>.9?n(new Error("输入0.1-0.9之间")):n():n(new Error("输入不可以为空"))}),0)}},"8b97":function(t,e,n){var a=n("d3f4"),i=n("cb7c"),r=function(t,e){if(i(t),!a(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,a){try{a=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),a(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return r(t,n),e?t.__proto__=n:a(t,n),t}}({},!1):void 0),check:r}},aa77:function(t,e,n){var a=n("5ca1"),i=n("be13"),r=n("79e5"),o=n("fdef"),s="["+o+"]",u="​",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),m=function(t,e,n){var i={},s=r((function(){return!!o[t]()||u[t]()!=u})),l=i[t]=s?e(d):o[t];n&&(i[n]=l),a(a.P+a.F*s,"String",i)},d=m.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t};t.exports=m},c5f6:function(t,e,n){"use strict";var a=n("7726"),i=n("69a8"),r=n("2d95"),o=n("5dbc"),s=n("6a99"),u=n("79e5"),l=n("9093").f,c=n("11e9").f,m=n("86cc").f,d=n("aa77").trim,p="Number",f=a[p],h=f,g=f.prototype,b=r(n("2aeb")(g))==p,I="trim"in String.prototype,C=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=I?e.trim():d(e,3);var n,a,i,r=e.charCodeAt(0);if(43===r||45===r){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+e}for(var o,u=e.slice(2),l=0,c=u.length;l<c;l++)if(o=u.charCodeAt(l),o<48||o>i)return NaN;return parseInt(u,a)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof f&&(b?u((function(){g.valueOf.call(n)})):r(n)!=p)?o(new h(C(e)),n,f):C(e)};for(var y,v=n("9e1e")?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;v.length>E;E++)i(h,y=v[E])&&!i(f,y)&&m(f,y,c(h,y));f.prototype=g,g.constructor=f,n("2aba")(a,p,f)}},e876:function(t,e,n){"use strict";n.d(e,"h",(function(){return i})),n.d(e,"i",(function(){return r})),n.d(e,"f",(function(){return o})),n.d(e,"e",(function(){return s})),n.d(e,"b",(function(){return u})),n.d(e,"g",(function(){return l})),n.d(e,"j",(function(){return c})),n.d(e,"a",(function(){return m})),n.d(e,"c",(function(){return d})),n.d(e,"l",(function(){return p})),n.d(e,"k",(function(){return f})),n.d(e,"d",(function(){return h}));var a=n("b775");function i(t){return Object(a["a"])({url:"api/Misc/EnumMemberCategory",method:"post",data:t})}function r(t){return Object(a["a"])({url:"api/Misc/EnumMemberIdentity",method:"post",data:t})}function o(){return Object(a["a"])({url:"api/Misc/EnumInformationFirstLevelTitle",method:"post",data:null})}function s(t){return Object(a["a"])({url:"api/Misc/EnumIncubationDocumentType",method:"post",data:t})}function u(t){return Object(a["a"])({url:"api/Misc/EnumCommunityDocumentType",method:"post",data:t})}function l(){return Object(a["a"])({url:"api/Misc/EnumInvestmentAndFinancingDocumentType",method:"post"})}function c(t){return Object(a["a"])({url:"api/Misc/EnumPublisherContractorIdentityStatus",method:"post",data:t})}function m(t){return Object(a["a"])({url:"api/Misc/EnumCommunityDemandStatus",method:"post",data:t})}function d(t){return Object(a["a"])({url:"api/Misc/EnumCommunityServiceStatus",method:"post",data:t})}function p(t){return Object(a["a"])({url:"api/Misc/GetProjectTypeList",method:"post",data:t})}function f(){return Object(a["a"])({url:"api/Misc/GetMemberIdentityStatus",method:"get",data:null})}function h(){return Object(a["a"])({url:"api/Misc/EnumDocumentTemplateFormat",method:"post",data:null})}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);