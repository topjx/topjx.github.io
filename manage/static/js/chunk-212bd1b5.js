(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-212bd1b5"],{"0a47":function(t,e,i){"use strict";var a=i("3fe6"),n=i.n(a);n.a},"3fe6":function(t,e,i){},"78a7":function(t,e,i){"use strict";i.d(e,"g",(function(){return n})),i.d(e,"b",(function(){return r})),i.d(e,"f",(function(){return o})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return l})),i.d(e,"i",(function(){return c})),i.d(e,"e",(function(){return m})),i.d(e,"h",(function(){return u})),i.d(e,"d",(function(){return d})),i.d(e,"l",(function(){return g})),i.d(e,"p",(function(){return p})),i.d(e,"o",(function(){return h})),i.d(e,"u",(function(){return f})),i.d(e,"n",(function(){return I})),i.d(e,"j",(function(){return b})),i.d(e,"k",(function(){return _})),i.d(e,"m",(function(){return C})),i.d(e,"s",(function(){return M})),i.d(e,"r",(function(){return E})),i.d(e,"q",(function(){return v})),i.d(e,"t",(function(){return N}));var a=i("b775");function n(t){return Object(a["a"])({url:"api/MechanismMemberManage/Mechanism_MemberPageList",method:"post",data:t})}function r(t){return Object(a["a"])({url:"api/MechanismMemberManage/ChangeMemberState/"+t.ID+"?State="+t.State,method:"get",data:t})}function o(t){return Object(a["a"])({url:"api/MechanismMemberManage/GetEntityById/"+t,method:"get",data:t})}function s(t){return Object(a["a"])({url:"api/MechanismMemberManage/DelEntityById/"+t.ID+"?IsDelete=1",method:"get",data:t})}function l(t){return Object(a["a"])({url:"api/MechanismMemberManage/AddMechanism_MemberEntity",method:"post",data:t})}function c(t){return Object(a["a"])({url:"api/MechanismMemberManage/UpdateMechanism_MemberEntity",method:"post",data:t})}function m(t){return Object(a["a"])({url:"api/MechanismInformationManage/Find",method:"post",data:t})}function u(t){return Object(a["a"])({url:"api/MechanismInformationManage/Update",method:"post",data:t})}function d(t){return Object(a["a"])({url:"api/MechanismInformationManage/GetEntityById/"+t,method:"get",data:t})}function g(t){return Object(a["a"])({url:"api/MechanismEmployeeProfileManage/Add",method:"post",data:t})}function p(t){return Object(a["a"])({url:"api/MechanismEmployeeProfileManage/Find",method:"post",data:t})}function h(t){return Object(a["a"])({url:"api/MechanismEmployeeProfileManage/GetEntityById/"+t,method:"get",data:t})}function f(t){return Object(a["a"])({url:"api/MechanismEmployeeProfileManage/Update",method:"post",data:t})}function I(t){return Object(a["a"])({url:"api/MechanismBigAnoteManage/Find",method:"post",data:t})}function b(t){return Object(a["a"])({url:"api/MechanismBigAnoteManage/Add",method:"post",data:t})}function _(t){return Object(a["a"])({url:"api/MechanismBigAnoteManage/Update",method:"post",data:t})}function C(t){return Object(a["a"])({url:"api/MechanismBigAnoteManage/GetEntityById/"+t,method:"get",data:t})}function M(t){return Object(a["a"])({url:"api/MechanismRecruitersManage/Add",method:"post",data:t})}function E(t){return Object(a["a"])({url:"api/MechanismRecruitersManage/Find",method:"post",data:t})}function v(t){return Object(a["a"])({url:"api/MechanismRecruitersManage/GetEntityById/"+t,method:"get",data:t})}function N(t){return Object(a["a"])({url:"api/MechanismRecruitersManage/Update",method:"post",data:t})}},"925b":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("edit-template",{attrs:{"is-edit":1}})},n=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bannerTel"},[i("div",{staticClass:"titleTel"},[t._v(t._s(0===t.isEdit?"新建信息":1===t.isEdit?"编辑信息":"查看信息"))]),i("div",{staticStyle:{width:"100%"}},[i("el-form",{ref:"formInit",attrs:{model:t.formInit,"label-width":"80px",rules:t.rules}},[i("el-form-item",{attrs:{label:"名称",prop:"Name"}},[i("el-input",{staticClass:"el-input__inner2",attrs:{disabled:!0},model:{value:t.formInit.Name,callback:function(e){t.$set(t.formInit,"Name",e)},expression:"formInit.Name"}})],1),i("el-form-item",{attrs:{label:"封面图",prop:"ShowLink"}},[t.formInit.ShowLink?i("div",{staticClass:"FileUpload",staticStyle:{width:"148px",height:"148px","line-height":"148px"}},[i("div",{staticClass:"fileDiv",staticStyle:{width:"148px",height:"148px","line-height":"148px",margin:"0px"}},[i("img",{attrs:{src:t.formInit.ShowLink,alt:""}}),i("div",{staticClass:"fileDivBg",on:{click:t.imgDeleteClick}},[i("i",{staticClass:"el-icon-delete"})])])]):i("div",{staticClass:"avatar-uploader"},[i("ul",{staticClass:"el-upload-list el-upload-list--picture-card"}),i("div",{staticClass:"el-upload el-upload--picture-card",attrs:{tabindex:"0"},on:{click:t.imgChoseClick}},[i("i",{staticClass:"el-icon-plus"}),i("input",{staticClass:"el-upload__input",attrs:{type:"file",name:"logoImage",accept:".jpg, .png, .jpeg"}})]),i("div",{staticClass:"el-upload__tip"},[t._v(t._s(this.imgWar))])]),i("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("img",{staticClass:"ploader-icon",attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1),i("el-form-item",{attrs:{label:"中文标题",prop:"Title_CN"}},[i("el-input",{attrs:{placeholder:"请输中文标题",maxlength:this.GLOBAL.MAX_LENGTH_TITLE},model:{value:t.formInit.Title_CN,callback:function(e){t.$set(t.formInit,"Title_CN",e)},expression:"formInit.Title_CN"}})],1),i("el-form-item",{attrs:{label:"英文标题",prop:"Title_EN"}},[i("el-input",{attrs:{placeholder:"请输英文标题",maxlength:this.GLOBAL.MAX_LENGTH_TITLE},model:{value:t.formInit.Title_EN,callback:function(e){t.$set(t.formInit,"Title_EN",e)},expression:"formInit.Title_EN"}})],1),i("el-form-item",{attrs:{label:"中文简述",prop:"Des_CN"}},[i("el-input",{attrs:{placeholder:"请输入",type:"textarea",disabled:2===t.isEdit,"show-word-limit":"",maxlength:this.GLOBAL.MAX_LENGTH_DES},model:{value:t.formInit.Des_CN,callback:function(e){t.$set(t.formInit,"Des_CN",e)},expression:"formInit.Des_CN"}})],1),i("el-form-item",{attrs:{label:"英文简述",prop:"Des_EN"}},[i("el-input",{attrs:{placeholder:"请输入",type:"textarea",disabled:2===t.isEdit,"show-word-limit":"",maxlength:this.GLOBAL.MAX_LENGTH_DES},model:{value:t.formInit.Des_EN,callback:function(e){t.$set(t.formInit,"Des_EN",e)},expression:"formInit.Des_EN"}})],1),i("el-form-item",{attrs:{label:"中文详情",prop:"Details_CN"}},[i("editTinymce",{attrs:{val:t.formInit.Details_CN,disabled:2==t.isEdit},on:{getval:t.changvalCN}})],1),i("el-form-item",{attrs:{label:"英文详情",prop:"Details_EN"}},[i("editTinymce",{attrs:{val:t.formInit.Details_EN,disabled:2==t.isEdit},on:{getval:t.changvalEN}})],1)],1)],1),i("div",{staticClass:"bottomButton"},[i("el-button",{attrs:{icon:"el-icon-circle-close",size:"small",type:"info"},on:{click:t.goBack}},[t._v("取消")]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:2!=t.isEdit,expression:"isEdit != 2"}],attrs:{icon:"el-icon-circle-check",size:"small",type:"primary"},on:{click:function(e){return t.onSubmit("formInit")}}},[t._v("保存")])],1)])},o=[],s=(i("c5f6"),i("78a7")),l=i("95797"),c={name:"index",components:{editTinymce:l["a"]},props:{isEdit:{type:Number,default:0}},data:function(){return{formInit:{FileId:"",CoveImg:"",ShowLink:"",Name:"",Title_CN:"",Title_EN:"",Des_CN:"",Des_EN:"",Details_CN:"",Details_EN:""},isCropper:!1,imgWidth:0,imgHeight:0,imgWar:"只能上传jpg/png文件，且不超过2MB",baseURL:global_config.BASE_URL,api:"",imagelist:[],myHeaders:{"x-token":""},fileType:".jpg,.png,.jpeg",dialogImageUrl:"",dialogVisible:!1,rules:{ShowLink:[{required:!0,message:"请选择封面图",trigger:"change"}],Des_CN:[{required:!0,message:"请输入中文简述",trigger:"blur"}],Des_EN:[{required:!0,message:"请输入英文简述",trigger:"blur"}],Title_CN:[{required:!0,message:"请输入中文标题",trigger:"blur"}],Title_EN:[{required:!0,message:"请输入英文标题",trigger:"blur"}],Details_CN:[{required:!0,message:"请输入中文详情",trigger:"blur"}],Details_EN:[{required:!0,message:"请输入英文详情",trigger:"blur"}]}}},computed:{uploadDisabled:function(){return this.imagelist.length>0}},created:function(){this.isCropper=this.$route.query.isCropper,1===this.isEdit||2===this.isEdit?this.getDetail():this.setCropperImg(),this.myHeaders["x-token"]=localStorage.getItem("mToken")},mounted:function(){},methods:{changvalCN:function(t){this.formInit.Details_CN=t},changvalEN:function(t){this.formInit.Details_EN=t},imgChoseClick:function(){this.$router.push({path:"/organize_info_cropper",query:{id:this.$route.query.id,width:this.imgWidth,height:this.imgHeight}})},imgDeleteClick:function(){this.formInit.ShowLink="",this.formInit.FileId=""},getDetail:function(){var t=this;Object(s["d"])(this.$route.query.id).then((function(e){0===e.data.Code&&(t.formInit=e.data.Data,"0"==t.formInit.Spare0?(t.imgWar+="建议尺寸621*411",t.imgWidth=621,t.imgHeight=411):"1"==t.formInit.Spare0?(t.imgWar+="建议尺寸610*500",t.imgWidth=610,t.imgHeight=500):"2"==t.formInit.Spare0||"5"==t.formInit.Spare0?(t.imgWar+="建议尺寸320*258",t.imgWidth=320,t.imgHeight=258):"6"==t.formInit.Spare0?(t.imgWar+="建议尺寸620*786",t.imgWidth=620,t.imgHeight=786):(t.imgWidth=500,t.imgHeight=250),t.setCropperImg())}))},setCropperImg:function(){this.isCropper&&(localStorage.getItem("organizeInfoCropperFileId")&&(this.formInit.FileId=localStorage.getItem("organizeInfoCropperFileId"),this.formInit.CoveImg=localStorage.getItem("organizeInfoCropperFileId")),localStorage.getItem("organizeInfoCropperShowLink")&&(this.formInit.ShowLink=localStorage.getItem("organizeInfoCropperShowLink")))},clearCropperImg:function(){localStorage.removeItem("organizeInfoCropperFileId"),localStorage.removeItem("organizeInfoCropperShowLink")},goBack:function(){this.clearCropperImg(),this.$router.push("/organize_info")},onSubmit:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;1===e.isEdit?e.onUpdate():e.isEdit}))},onAdd:function(){},onUpdate:function(){var t=this;Object(s["h"])(this.formInit).then((function(e){0===e.data.Code&&(t.goBack(),t.$message.success("保存成功"))}))},handleRemove:function(t,e){this.formInit.ShowLink="",this.imagelist=e},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},uploafPicSuccess:function(t,e,i){this.formInit.ShowLink="",0===t.Code?null!=t.Data.FileId?(this.formInit.ShowLink=t.Data.ShowLink,this.formInit.FileId=t.Data.FileId,this.formInit.CoveImg=t.Data.FileId,this.imagelist=i):(this.formInit.FileId="",this.$message.closeAll(),this.$message.error(t.Data.Message)):20002===t.Code?(this.$message.closeAll(),this.$message.error("登录已过期，请重新登录"),this.$router.push("/"),localStorage.setItem("mToken","")):(this.$message.closeAll(),this.$message.error(t.Data.Message))},beforeAvatarUpload:function(t){var e=t.size/1024/1024<20;return e||this.$message.error("上传图片大小不能超过 20MB!"),e}}},m=c,u=(i("0a47"),i("2877")),d=Object(u["a"])(m,r,o,!1,null,null,null),g=d.exports,p={name:"EditeForm",components:{editTemplate:g}},h=p,f=Object(u["a"])(h,a,n,!1,null,null,null);e["default"]=f.exports}}]);