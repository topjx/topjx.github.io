(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30dc093f"],{"53c8":function(t,e,r){"use strict";r.d(e,"d",(function(){return o})),r.d(e,"c",(function(){return a})),r.d(e,"a",(function(){return n})),r.d(e,"e",(function(){return s})),r.d(e,"b",(function(){return l}));var i=r("b775");function o(t){return Object(i["a"])({url:"api/PlatformServiceManage/GetPlatformServicePageList",method:"post",data:t})}function a(t){return Object(i["a"])({url:"api/PlatformServiceManage/GetPlatformServiceInfo/"+t,method:"post"})}function n(t){return Object(i["a"])({url:"api/PlatformServiceManage/AddPlatformService",method:"post",data:t})}function s(t){return Object(i["a"])({url:"api/PlatformServiceManage/UpdatePlatformService",method:"post",data:t})}function l(t){return Object(i["a"])({url:"api/PlatformServiceManage/EnableDisablePlatformService",method:"post",data:t})}},5882:function(t,e,r){"use strict";var i=r("9e9a"),o=r.n(i);o.a},"5dbc":function(t,e,r){var i=r("d3f4"),o=r("8b97").set;t.exports=function(t,e,r){var a,n=e.constructor;return n!==r&&"function"==typeof n&&(a=n.prototype)!==r.prototype&&i(a)&&o&&o(t,a),t}},"6d92":function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"maindetail"},[r("div",{staticClass:"titleTel"},[t._v(t._s(0===t.isEdit?"新增平台":1===t.isEdit?"编辑平台":"查看平台"))]),r("div",{staticStyle:{width:"100%"}},[r("el-form",{ref:"formInit",attrs:{model:t.formInit,"label-width":"80px",rules:t.rules}},[r("el-form-item",{attrs:{label:"封面图",prop:"CoverPicture"}},[t.formInit.CoverPicture?r("div",{staticClass:"FileUpload",staticStyle:{width:"148px",height:"148px","line-height":"148px"}},[r("div",{staticClass:"fileDiv",staticStyle:{width:"148px",height:"148px","line-height":"148px",margin:"0px"}},[r("img",{attrs:{src:t.formInit.CoverPictureInfo&&t.formInit.CoverPictureInfo.ShowLink,alt:""}}),r("div",{staticClass:"fileDivBg",attrs:{disabled:2===t.isEdit},on:{click:t.imgDeleteClick}},[r("i",{staticClass:"el-icon-delete"})])])]):r("div",{staticClass:"avatar-uploader"},[r("ul",{staticClass:"el-upload-list el-upload-list--picture-card"}),r("div",{staticClass:"el-upload el-upload--picture-card",attrs:{tabindex:"0",disabled:2===t.isEdit},on:{click:t.imgChoseClick}},[r("i",{staticClass:"el-icon-plus"})]),r("div",{staticClass:"el-upload__tip"},[t._v("只能上传jpg/png文件，且不超过2MB,建议尺寸500*281")])])]),r("el-form-item",{attrs:{label:"中文标题",prop:"Name"}},[r("el-input",{attrs:{disabled:2===t.isEdit,placeholder:"请输入"},model:{value:t.formInit.Name,callback:function(e){t.$set(t.formInit,"Name",e)},expression:"formInit.Name"}})],1),r("el-form-item",{attrs:{label:"英文标题",prop:"Name_EN"}},[r("el-input",{attrs:{disabled:2===t.isEdit,placeholder:"请输入"},model:{value:t.formInit.Name_EN,callback:function(e){t.$set(t.formInit,"Name_EN",e)},expression:"formInit.Name_EN"}})],1),r("el-form-item",{attrs:{label:"中文简述",prop:"Description"}},[r("el-input",{attrs:{type:"textarea",rows:6,maxlength:"500",disabled:2===t.isEdit,placeholder:"请输入"},model:{value:t.formInit.Description,callback:function(e){t.$set(t.formInit,"Description",e)},expression:"formInit.Description"}})],1),r("el-form-item",{attrs:{label:"英文简述",prop:"Description_EN"}},[r("el-input",{attrs:{type:"textarea",rows:6,maxlength:"500",disabled:2===t.isEdit,placeholder:"请输入"},model:{value:t.formInit.Description_EN,callback:function(e){t.$set(t.formInit,"Description_EN",e)},expression:"formInit.Description_EN"}})],1),r("el-form-item",{attrs:{label:"链接",prop:"Link"}},[r("el-input",{attrs:{disabled:2===t.isEdit,placeholder:"请参照此链接:https://www.baidu.com/"},model:{value:t.formInit.Link,callback:function(e){t.$set(t.formInit,"Link",e)},expression:"formInit.Link"}})],1),r("el-form-item",{attrs:{label:"排序"}},[r("el-input",{attrs:{placeholder:"请输入正整数",onkeypress:"return( /[\\d]/.test(String.fromCharCode(event.keyCode)))",type:"number",max:"999",min:"1",maxlength:"3"},model:{value:t.formInit.Sort,callback:function(e){t.$set(t.formInit,"Sort",e)},expression:"formInit.Sort"}})],1),r("el-form-item",{attrs:{prop:"Status"}},[r("div",{attrs:{slot:"label"},slot:"label"},[r("span",{staticStyle:{color:"#F56C6C"}},[t._v("*")]),t._v(" 状态 ")]),r("el-radio-group",{attrs:{disabled:2===t.isEdit},model:{value:t.formInit.Status,callback:function(e){t.$set(t.formInit,"Status",e)},expression:"formInit.Status"}},[r("el-radio",{attrs:{label:1,size:"small"}},[t._v("禁用")]),r("el-radio",{attrs:{label:0,size:"small"}},[t._v("启用")])],1)],1)],1)],1),r("div",{staticClass:"bottomButton"},[r("el-button",{attrs:{icon:"el-icon-back",size:"small",type:"info"},on:{click:t.goBack}},[t._v("返回")]),r("el-button",{directives:[{name:"show",rawName:"v-show",value:2!=t.isEdit,expression:"isEdit != 2"}],attrs:{icon:"el-icon-circle-check",size:"small",type:"primary"},on:{click:function(e){return t.onSubmit("formInit")}}},[t._v("保存")])],1)])},o=[],a=(r("c5f6"),r("53c8")),n={name:"index",components:{},props:{isEdit:{type:Number,default:0}},computed:{},data:function(){return{formInit:{CoverPicture:"",CoverPictureInfo:{FileId:"",ShowLink:"",FileName:""},Link:"",Name:"",Name_EN:"",Description:"",Description_EN:"",Status:0,Sort:""},isCropper:!1,rules:{Name:[{required:!0,message:"中文标题不能为空",trigger:"blur"}],Name_EN:[{required:!0,message:"英文标题不能为空",trigger:"blur"}],Description:[{required:!0,message:"中文简述不能为空",trigger:"blur"}],Description_EN:[{required:!0,message:"英文简述不能为空",trigger:"blur"}],CoverPicture:[{required:!0,message:"请选择封面图",trigger:"blur"}]}}},created:function(){this.isCropper=this.$route.query.isCropper,1===this.isEdit||2===this.isEdit?this.getDetail():this.setCropperImg()},mounted:function(){},methods:{getDetail:function(){var t=this;Object(a["c"])(this.$route.query.id).then((function(e){0===e.data.Code&&(t.formInit=e.data.Data,t.setCropperImg())}))},goBack:function(){this.clearCropperImg(),this.$router.push("/platform_manage")},onSubmit:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;1===e.isEdit?e.onUpdate():0===e.isEdit&&e.onAdd()}))},onAdd:function(){var t=this;Object(a["a"])(this.formInit).then((function(e){0===e.data.Code&&(t.goBack(),t.$message.success("保存成功"))}))},onUpdate:function(){var t=this;this.formInit.Id=this.$route.query.id,Object(a["e"])(this.formInit).then((function(e){0===e.data.Code&&(t.goBack(),t.$message.success("保存成功"))}))},setCropperImg:function(){this.isCropper&&(localStorage.getItem("platformManageInfo")&&(this.formInit=JSON.parse(localStorage.getItem("platformManageInfo"))),localStorage.getItem("raceIntroCropperFileId")&&(this.formInit.CoverPictureInfo.FileId=localStorage.getItem("raceIntroCropperFileId"),this.formInit.CoverPicture=localStorage.getItem("raceIntroCropperFileId")),localStorage.getItem("raceIntroCropperShowLink")&&(this.formInit.CoverPictureInfo.ShowLink=localStorage.getItem("raceIntroCropperShowLink")))},clearCropperImg:function(){localStorage.removeItem("platformManageInfo"),localStorage.removeItem("raceIntroCropperFileId"),localStorage.removeItem("raceIntroCropperShowLink")},imgChoseClick:function(){localStorage.setItem("platformManageInfo",JSON.stringify(this.formInit)),this.$router.push({path:"/platform_cropper",query:{id:this.$route.query.id,width:500,height:281}})},imgDeleteClick:function(){this.formInit.CoverPicture="",this.formInit.CoverPictureInfo={FileId:"",ShowLink:"",FileName:""}}}},s=n,l=(r("5882"),r("2877")),c=Object(l["a"])(s,i,o,!1,null,null,null);e["a"]=c.exports},"8b97":function(t,e,r){var i=r("d3f4"),o=r("cb7c"),a=function(t,e){if(o(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=r("9b43")(Function.call,r("11e9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,r){return a(t,r),e?t.__proto__=r:i(t,r),t}}({},!1):void 0),check:a}},"9e9a":function(t,e,r){},aa77:function(t,e,r){var i=r("5ca1"),o=r("be13"),a=r("79e5"),n=r("fdef"),s="["+n+"]",l="​",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),p=function(t,e,r){var o={},s=a((function(){return!!n[t]()||l[t]()!=l})),c=o[t]=s?e(f):n[t];r&&(o[r]=c),i(i.P+i.F*s,"String",o)},f=p.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=p},c5f6:function(t,e,r){"use strict";var i=r("7726"),o=r("69a8"),a=r("2d95"),n=r("5dbc"),s=r("6a99"),l=r("79e5"),c=r("9093").f,u=r("11e9").f,p=r("86cc").f,f=r("aa77").trim,m="Number",d=i[m],I=d,h=d.prototype,g=a(r("2aeb")(h))==m,v="trim"in String.prototype,b=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():f(e,3);var r,i,o,a=e.charCodeAt(0);if(43===a||45===a){if(r=e.charCodeAt(2),88===r||120===r)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+e}for(var n,l=e.slice(2),c=0,u=l.length;c<u;c++)if(n=l.charCodeAt(c),n<48||n>o)return NaN;return parseInt(l,i)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof d&&(g?l((function(){h.valueOf.call(r)})):a(r)!=m)?n(new I(b(e)),r,d):b(e)};for(var C,S=r("9e1e")?c(I):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;S.length>N;N++)o(I,C=S[N])&&!o(d,C)&&p(d,C,u(I,C));d.prototype=h,h.constructor=d,r("2aba")(i,m,d)}},f1c5:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("edit-template",{attrs:{"is-edit":1}})},o=[],a=r("6d92"),n={name:"EditeForm",components:{editTemplate:a["a"]}},s=n,l=r("2877"),c=Object(l["a"])(s,i,o,!1,null,null,null);e["default"]=c.exports},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);