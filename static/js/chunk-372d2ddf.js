(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-372d2ddf"],{"3bf9":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reserveEquipment common"},[a("div",{staticClass:"tabs"},[t.$route.query.isMy?a("router-link",{staticClass:"home",attrs:{to:{path:"/OrderPay/borrow"}}},[t._v(t._s(t.$t("lang.My_loan"))+" ")]):a("router-link",{staticClass:"home",attrs:{to:{path:"/EquipmentReservation"}}},[t._v(t._s(t.$t("lang.Equipment_reservation"))+" ")]),a("span",{staticClass:"home",on:{click:t.back}},[t._v(" > "+t._s(t.$t("lang.detail")))]),a("span",{staticClass:"greyTabs"},[t._v(" > "+t._s(t.$t("lang.Equipment_reservation")+t.$t("lang.information")))])],1),a("div",{staticClass:"content"},[a("div",{staticClass:"title fontBold"},[t._v(t._s(t.$t("lang.Equipment_reservation")+t.$t("lang.information")))]),a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:t.$t("lang.Name_of_subscriber"),prop:"name"}},[a("el-input",{attrs:{placeholder:t.$t("lang.inputholder")},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:t.$t("lang.phoneno"),prop:"phone"}},[a("el-input",{attrs:{placeholder:t.$t("lang.inputholder")},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),a("el-form-item",{attrs:{label:t.$t("lang.Scheduled_start_time"),prop:"start"}},[a("el-date-picker",{attrs:{"picker-options":t.expireTimeOption,type:"datetime",format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm",placeholder:t.$t("lang.pleasechose")},model:{value:t.form.start,callback:function(e){t.$set(t.form,"start",e)},expression:"form.start"}})],1),a("el-form-item",{attrs:{label:t.$t("lang.Scheduled_end_time"),prop:"end"}},[a("el-date-picker",{attrs:{"picker-options":t.expireTimeOptionEnd,type:"datetime",format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm",placeholder:t.$t("lang.pleasechose")},model:{value:t.form.end,callback:function(e){t.$set(t.form,"end",e)},expression:"form.end"}})],1),a("el-form-item",{attrs:{label:t.$t("lang.email"),prop:"email"}},[a("el-input",{attrs:{placeholder:t.$t("lang.inputholder")},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),a("el-form-item",{attrs:{label:t.$t("lang.organization"),prop:"organization"}},[a("el-input",{attrs:{placeholder:t.$t("lang.inputholder")},model:{value:t.form.organization,callback:function(e){t.$set(t.form,"organization",e)},expression:"form.organization"}})],1),a("el-form-item",{staticClass:"big",attrs:{label:t.$t("lang.Reservation_description"),prop:"desc"}},[a("el-input",{attrs:{type:"textarea",rows:"4",placeholder:t.$t("lang.inputholder")},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1)],1),a("div",{staticClass:"button"},[a("div",{on:{click:t.addEquipmentBorrow}},[t._v(t._s(t.$t("lang.submit"))),a("i",{staticClass:"el-icon-right"})])])],1),a("el-dialog",{attrs:{title:t.$t("lang.training_statement"),visible:t.dialogVisible,"custom-class":"statement commonMargin","close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"teamTip"},[a("div",{staticClass:"text",domProps:{innerHTML:t._s(t.reserveEquipmentText)}}),a("div",{staticClass:"teamTipButton"},[a("div",{on:{click:t.agree}},[t._v(" "+t._s(t.$t("lang.training_agree"))+" "),a("i",{staticClass:"el-icon-right"})])])])])],1)},i=[],r=(a("b0c0"),a("ac1f"),a("5319"),a("f564")),o={name:"info",components:{},data:function(){return{expireTimeOption:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},expireTimeOptionEnd:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},form:{name:"",phone:"",start:"",end:"",desc:"",email:"",organization:""},rules:{name:[{required:!0,message:this.$t("lang.training_enter")+this.$t("lang.Name_of_subscriber"),trigger:"blur"}],phone:[{required:!0,message:this.$t("lang.training_enter")+this.$t("lang.phoneno"),trigger:"blur"}],start:[{required:!0,message:this.$t("lang.training_select")+this.$t("lang.Scheduled_start_time"),trigger:"blur"}],end:[{required:!0,message:this.$t("lang.training_select")+this.$t("lang.Scheduled_end_time"),trigger:"blur"}],desc:[{required:!0,message:this.$t("lang.training_enter")+this.$t("lang.Reservation_description"),trigger:"blur"}],email:[{required:!0,message:this.$t("lang.training_enter")+this.$t("lang.email"),trigger:"blur"}],organization:[{required:!0,message:this.$t("lang.training_enter")+this.$t("lang.organization"),trigger:"blur"}]},dialogVisible:!1,loginInfo:null,Id:"",reserveEquipmentName:"",reserveEquipmentText:""}},created:function(){this.loginInfo=localStorage.getItem("userInfo"),this.form.email=JSON.parse(this.loginInfo).Email,this.form.name=JSON.parse(this.loginInfo).CorporateName?JSON.parse(this.loginInfo).CorporateName:JSON.parse(this.loginInfo).UserName,this.form.phone=JSON.parse(this.loginInfo).Mobile,this.getBaseConfigInfo(),this.$route.query.applyId&&this.getMyEquipmentBorrowInfo()},methods:{getMyEquipmentBorrowInfo:function(){var t=this;Object(r["g"])(this.$route.query.applyId).then((function(e){0===e.data.Code&&(t.Id=e.data.Data.Id,t.form={name:e.data.Data.Name,phone:e.data.Data.MobilePhone,start:e.data.Data.StartTime,end:e.data.Data.EndTime,desc:e.data.Data.Desc,email:e.data.Data.Email,organization:e.data.Data.Affiliation})}))},getBaseConfigInfo:function(){var t=this;Object(r["b"])("TrainingRegistrationRules").then((function(e){0===e.data.Code&&(t.reserveEquipmentName=e.data.Data.ConfigName,t.reserveEquipmentText=e.data.Data.ConfigValue)}))},back:function(){this.$router.go(-1)},addEquipmentBorrow:function(){var t=this,e=/select|update|delete|exec|count|'|"|=|;|>|<|%/i;if(this.form.desc=this.form.desc.replace(e,""),console.log(this.form.desc),!/^1[34578]\d{9}$/.test(this.form.phone)){this.$message.closeAll();var a="";return a="CN"===localStorage.getItem("Lang")?"请输入正确的手机号码":"Please enter the correct mobile phone number",void this.$message.warning(a)}if(this.form.start>=this.form.end)return this.$message.closeAll(),void this.$message.warning(this.$t("lang.Scheduled_start_time")+this.$t("lang.Cannot_be_greater_than")+this.$t("lang.Scheduled_end_time"));this.$refs["form"].validate((function(e){e&&(t.dialogVisible=!0)}))},agree:function(){var t=this,e={Id:this.Id,EquipmentInfoId:this.$route.query.Id,Name:this.form.name,MobilePhone:this.form.phone,StartTime:this.form.start,EndTime:this.form.end,Desc:this.form.desc,Affiliation:this.form.organization,Email:this.form.email};Object(r["a"])(e).then((function(e){0===e.data.Code&&(t.$message.closeAll(),t.$message.success(t.$t("lang.Reservation_successful")),setTimeout((function(){t.$router.go(-1)}),1e3))}))}}},s=o,l=(a("977f"),a("2877")),u=Object(l["a"])(s,n,i,!1,null,null,null);e["default"]=u.exports},5319:function(t,e,a){"use strict";var n=a("d784"),i=a("825a"),r=a("7b0b"),o=a("50c4"),s=a("a691"),l=a("1d80"),u=a("8aa5"),m=a("14c3"),c=Math.max,d=Math.min,f=Math.floor,g=/\$([$&'`]|\d\d?|<[^>]*>)/g,p=/\$([$&'`]|\d\d?)/g,h=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,a,n){var v=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,b=n.REPLACE_KEEPS_$0,$=v?"$":"$0";return[function(a,n){var i=l(this),r=void 0==a?void 0:a[t];return void 0!==r?r.call(a,i,n):e.call(String(i),a,n)},function(t,n){if(!v&&b||"string"===typeof n&&-1===n.indexOf($)){var r=a(e,t,this,n);if(r.done)return r.value}var l=i(t),f=String(this),g="function"===typeof n;g||(n=String(n));var p=l.global;if(p){var E=l.unicode;l.lastIndex=0}var q=[];while(1){var C=m(l,f);if(null===C)break;if(q.push(C),!p)break;var y=String(C[0]);""===y&&(l.lastIndex=u(f,o(l.lastIndex),E))}for(var I="",S=0,k=0;k<q.length;k++){C=q[k];for(var T=String(C[0]),x=c(d(s(C.index),f.length),0),M=[],O=1;O<C.length;O++)M.push(h(C[O]));var w=C.groups;if(g){var D=[T].concat(M,x,f);void 0!==w&&D.push(w);var N=String(n.apply(void 0,D))}else N=_(T,f,x,M,w,n);x>=S&&(I+=f.slice(S,x)+N,S=x+T.length)}return I+f.slice(S)}];function _(t,a,n,i,o,s){var l=n+t.length,u=i.length,m=p;return void 0!==o&&(o=r(o),m=g),e.call(s,m,(function(e,r){var s;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return a.slice(0,n);case"'":return a.slice(l);case"<":s=o[r.slice(1,-1)];break;default:var m=+r;if(0===m)return e;if(m>u){var c=f(m/10);return 0===c?e:c<=u?void 0===i[c-1]?r.charAt(1):i[c-1]+r.charAt(1):e}s=i[m-1]}return void 0===s?"":s}))}}))},"977f":function(t,e,a){"use strict";var n=a("b2f4"),i=a.n(n);i.a},b2f4:function(t,e,a){},f564:function(t,e,a){"use strict";a.d(e,"f",(function(){return i})),a.d(e,"e",(function(){return r})),a.d(e,"d",(function(){return o})),a.d(e,"a",(function(){return s})),a.d(e,"g",(function(){return l})),a.d(e,"c",(function(){return u})),a.d(e,"b",(function(){return m}));var n=a("b775");function i(t){return Object(n["a"])({url:"/api/CilentEquipment/GetEquipmentTypeList",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/api/CilentEquipment/GetEquipmentInfoPageList",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/api/CilentEquipment/GetEquipmentInfo/"+t,method:"post"})}function s(t){return Object(n["a"])({url:"/api/CilentEquipment/AddEquipmentBorrow",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/api/CilentEquipment/GetMyEquipmentBorrowInfo/"+t,method:"post"})}function u(t){return Object(n["a"])({url:"/api/CilentEquipment/GetEquipmentBorrowingTimeList/"+t,method:"post"})}function m(t){return Object(n["a"])({url:"/api/ClientBaseConfigManage/GetBaseConfigInfo?code="+t,method:"post"})}}}]);